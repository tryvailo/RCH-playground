# üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –º–∞–ø–ø–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö

**–î–∞—Ç–∞:** 2025-12-19  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–ë–õ–ï–ú–´ –í–´–Ø–í–õ–ï–ù–´

---

## üìã –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### **1. Nursing Care: —Ç–æ–ª—å–∫–æ 30% –∑–∞–ø–æ–ª–Ω–µ–Ω–æ**

#### **–ê–Ω–∞–ª–∏–∑:**

- ‚úÖ **–ú–∞–ø–ø–∏–Ω–≥ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:** `care_nursing` ‚Üí `service_type_care_home_nursing`
- ‚úÖ **–î–∞–Ω–Ω—ã–µ –≤ CSV –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ:**
  - `TRUE`: 4,377 –¥–æ–º–æ–≤ (30.0%)
  - `FALSE`: 10,222 –¥–æ–º–æ–≤ (70.0%)
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è:** `normalize_cqc_boolean` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç `TRUE`/`FALSE`

#### **–í—ã–≤–æ–¥:**

**–≠—Ç–æ –ù–ï –ø—Ä–æ–±–ª–µ–º–∞ –º–∞–ø–ø–∏–Ω–≥–∞!** –≠—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥–æ–º–æ–≤ –ø—Ä–µ—Å—Ç–∞—Ä–µ–ª—ã—Ö (70%) –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç nursing care
- –¢–æ–ª—å–∫–æ 30% –¥–æ–º–æ–≤ –∏–º–µ—é—Ç –ª–∏—Ü–µ–Ω–∑–∏—é –Ω–∞ nursing care
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è UK care homes market

#### **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

- ‚úÖ **–û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å** - –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ
- ‚ö†Ô∏è **–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö:** –û–±–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ API –¥–ª—è –¥–æ–º–æ–≤, –≥–¥–µ `FALSE`, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å nursing care

---

### **2. Service User Bands: –ø—Ä–æ–±–ª–µ–º–∞ –º–∞–ø–ø–∏–Ω–≥–∞**

#### **–ê–Ω–∞–ª–∏–∑:**

**–ü—Ä–æ–±–ª–µ–º–∞:** –í CSV –≤—Å–µ –ø–æ–ª—è Service User Bands –∏–º–µ—é—Ç –ª–∏–±–æ `TRUE`, –ª–∏–±–æ `FALSE`, –Ω–æ:
- `service_user_band_older_people`: **0% TRUE** (–≤—Å–µ `FALSE`)
- `service_user_band_mental_health`: **0% TRUE** (–≤—Å–µ `FALSE`)
- `service_user_band_physical_disability`: **0% TRUE** (–≤—Å–µ `FALSE`)
- `service_user_band_dementia`: **55.3% TRUE** (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

#### **–ü—Ä–∏—á–∏–Ω–∞:**

1. **–î–∞–Ω–Ω—ã–µ –≤ CSV –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏:**
   - –í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ CSV –ø–æ–ª—è –±—ã–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –∫–∞–∫ `FALSE` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –ò–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—ã–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω—ã –∏–∑ CQC API

2. **–ú–∞–ø–ø–∏–Ω–≥ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:**
   - `serves_older_people` ‚Üí `service_user_band_older_people` ‚úÖ
   - `normalize_cqc_boolean` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `FALSE` ‚Üí `False`

#### **–†–µ—à–µ–Ω–∏–µ:**

1. **–û–±–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ API:**
   ```python
   # –í update_cqc_database.py —É–∂–µ –µ—Å—Ç—å –ª–æ–≥–∏–∫–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Service User Bands
   # –ù—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è —ç—Ç–∏—Ö –ø–æ–ª–µ–π
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—è:**
   - –í–æ–∑–º–æ–∂–Ω–æ, –¥–∞–Ω–Ω—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—è—Ö CSV
   - –ò–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `regulated_activities` –∏–ª–∏ `specialisms`

---

### **3. CQC Overall Rating: –ø—Ä–æ–±–ª–µ–º–∞ –º–∞–ø–ø–∏–Ω–≥–∞**

#### **–ê–Ω–∞–ª–∏–∑:**

**–ü—Ä–æ–±–ª–µ–º–∞:** –í CSV –ø–æ–ª–µ `location_latest_overall_rating` **–í–°–ï–ì–î–ê –ø—É—Å—Ç–æ–µ** (100% –ø—É—Å—Ç—ã—Ö)

**–ù–æ:** –ú—ã –æ–±–Ω–æ–≤–∏–ª–∏ 956 –¥–æ–º–æ–≤ —á–µ—Ä–µ–∑ API, –∑–Ω–∞—á–∏—Ç –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–º CSV!

#### **–ü—Ä–∏—á–∏–Ω–∞:**

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `save_homes_to_csv`:**

```python
# –°—Ç—Ä–æ–∫–∞ 345-347 –≤ update_cqc_database.py
elif db_field in REVERSE_RATINGS:
    cqc_field = REVERSE_RATINGS[db_field]
    csv_row[cqc_field] = value if value else ''
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `REVERSE_RATINGS` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–∞–∫ `{v: k for k, v in CQC_RATINGS_MAPPING.items()}`
- `CQC_RATINGS_MAPPING = {'cqc_rating_overall': 'location_latest_overall_rating'}`
- `REVERSE_RATINGS = {'location_latest_overall_rating': 'cqc_rating_overall'}` ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

**–ù–û:** –í —Ñ—É–Ω–∫—Ü–∏–∏ `save_homes_to_csv` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `if db_field in REVERSE_RATINGS`, –Ω–æ `db_field` —ç—Ç–æ –∫–ª—é—á –∏–∑ `home.items()`, –∞ –Ω–µ –∑–Ω–∞—á–µ–Ω–∏–µ!

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

```python
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
elif db_field in CQC_RATINGS_MAPPING:  # –ü—Ä–æ–≤–µ—Ä—è–µ–º DB field
    cqc_field = CQC_RATINGS_MAPPING[db_field]  # –ü–æ–ª—É—á–∞–µ–º CSV field
    csv_row[cqc_field] = value if value else ''
```

#### **–†–µ—à–µ–Ω–∏–µ:**

–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `save_homes_to_csv` –≤ `update_cqc_database.py`:

```python
# CQC Ratings (reverse mapping) - –ò–°–ü–†–ê–í–õ–ï–ù–û
elif db_field in CQC_RATINGS_MAPPING:  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–π –º–∞–ø–ø–∏–Ω–≥
    cqc_field = CQC_RATINGS_MAPPING[db_field]
    csv_row[cqc_field] = value if value else ''
```

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ CQC Overall Rating**

**–§–∞–π–ª:** `scripts/update_cqc_database.py`  
**–§—É–Ω–∫—Ü–∏—è:** `save_homes_to_csv`  
**–°—Ç—Ä–æ–∫–∏:** 344-347

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# –ë—ã–ª–æ:
elif db_field in REVERSE_RATINGS:
    cqc_field = REVERSE_RATINGS[db_field]
    csv_row[cqc_field] = value if value else ''

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
elif db_field in CQC_RATINGS_MAPPING:
    cqc_field = CQC_RATINGS_MAPPING[db_field]
    csv_row[cqc_field] = value if value else ''
```

---

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –û–±–Ω–æ–≤–∏—Ç—å Service User Bands —á–µ—Ä–µ–∑ API**

**–î–µ–π—Å—Ç–≤–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è Service User Bands:

```bash
python3 scripts/update_cqc_database.py \
  --fields serves_older_people,serves_mental_health,serves_physical_disabilities \
  --batch-size 30 \
  --delay 1.0
```

---

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: Nursing Care - –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å**

**–í—ã–≤–æ–¥:** –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ, 30% - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è UK market.

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–±–ª–µ–º

| –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|--------|---------|---------|
| **Nursing Care (30%)** | ‚úÖ –ù–µ –ø—Ä–æ–±–ª–µ–º–∞ | –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å |
| **Service User Bands** | ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö | –î–∞–Ω–Ω—ã–µ –≤ CSV –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ | –û–±–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ API |
| **CQC Overall Rating** | ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –º–∞–ø–ø–∏–Ω–≥–∞ | –û—à–∏–±–∫–∞ –≤ `save_homes_to_csv` | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ |

---

## ‚úÖ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å `save_homes_to_csv`** –¥–ª—è CQC Overall Rating
2. ‚úÖ **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. ‚ö†Ô∏è **–û–±–Ω–æ–≤–∏—Ç—å Service User Bands** —á–µ—Ä–µ–∑ API
4. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–ë–õ–ï–ú–´ –í–´–Ø–í–õ–ï–ù–´, –†–ï–®–ï–ù–ò–Ø –ü–†–ï–î–õ–û–ñ–ï–ù–´

