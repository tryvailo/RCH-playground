# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –¢–ó

**–î–∞—Ç–∞:** 2025-12-18  
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (SimpleMatchingService) –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¢–ó

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. STEP 2: Geo Filter —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
- –†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –í–°–ï–• –¥–æ–º–æ–≤
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ preferred_radius
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–º–æ–≤ (MIN_REQUIRED = 5)
- EXPANSION_STEPS = [5, 10, 15, 30, 50, 75, 100]

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ `get_care_homes` —Ç–µ–ø–µ—Ä—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç `distance_km` –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–æ–≤
- ‚úÖ –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–æ–º–∞ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é (–±–ª–∏–∂–∞–π—à–∏–µ –ø–µ—Ä–≤—ã–µ)
- ‚úÖ –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ `preferred_radius`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Ä–∞–¥–∏—É—Å, –µ—Å–ª–∏ –¥–æ–º–æ–≤ < `min_required` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç EXPANSION_STEPS = [5, 10, 15, 30, 50, 75, 100]
- ‚úÖ –ü–æ–º–µ—á–∞–µ—Ç –¥–æ–º–∞ –∫–∞–∫ `within_preferred_radius` –∏ `radius_category`

**–§–∞–π–ª:** `services/csv_care_homes_service.py`

---

### 2. Location Scoring (0-100)

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
- Distance: 80 points
- Within Preferred Radius Bonus: 20 points

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ `_calculate_location` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `home.get('distance_km')`
- ‚úÖ Distance scoring: 80 points (0-5km), 70 (5-10km), 60 (10-15km), 45 (15-30km), 30 (30-50km), 15 (50-75km), 5 (>75km)
- ‚úÖ Within Preferred Radius Bonus: 20 points, –µ—Å–ª–∏ `distance_km <= preferred_radius`
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`q6_max_distance`)

**–§–∞–π–ª:** `services/simple_matching_service.py` (–º–µ—Ç–æ–¥ `_calculate_location`)

---

### 3. 100-Point Scoring System

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
- 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π: Medical & Safety (35%), Quality & Care (25%), Location (15%), Financial (15%), Lifestyle (10%)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –≤–µ—Å–∞: 3 —É—Å–ª–æ–≤–∏—è (High Risk, Urgent, Long-term)
- –ù–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Section 6) - –¥–ª—è MVP

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¢–ó
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –≤–µ—Å–∞: 3 –∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è
- ‚úÖ –ù–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Section 6)

**–§–∞–π–ª:** `services/simple_matching_service.py`

---

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ report_routes.py

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –¥–ª—è MVP
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (FREE API ‚Üí ALL API)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –§–ª–∞–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `USE_SIMPLE_MATCHING` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `true`)
- ‚úÖ –£—Å–ª–æ–≤–Ω—ã–π –≤—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ (`calculate_100_point_match` vs `calculate_156_point_match`)
- ‚úÖ –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

**–§–∞–π–ª:** `routers/report_routes.py`

---

## ‚ö†Ô∏è –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–¥–∏—É—Å–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `get_care_homes` —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª –ø–æ `max_distance_km`, –Ω–æ –Ω–µ —Ä–∞—Å—à–∏—Ä—è–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ —Ç–æ–ª—å–∫–æ –ü–û–°–õ–ï —Å–∫–æ—Ä–∏–Ω–≥–∞ (–µ—Å–ª–∏ –Ω–∏–∑–∫–∏–µ –º–∞—Ç—á–∏–Ω–≥–∏)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ `get_care_homes`
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –î–û —Å–∫–æ—Ä–∏–Ω–≥–∞ (–µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–º–æ–≤)
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç STEP 2 –∏–∑ –¢–ó

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –≤—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–ª–æ—Å—å

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `distance_km` —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª—Å—è, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Å–∫–æ—Ä–∏–Ω–≥–∞

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ `get_care_homes` —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `distance_km` –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–æ–≤
- ‚úÖ –î–æ–º–∞ –±–µ–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ–ª—É—á–∞—é—Ç `distance_km = 9999.0` (—Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏)

---

## ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|-----------|----|-----------|--------|
| **STEP 2: Geo Filter** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–¥–∏—É—Å–∞ | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | ‚úÖ |
| **–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ —Å–∫–æ—Ä–∏–Ω–≥–µ** | `distance_km` –≤ –∫–∞–∂–¥–æ–º –¥–æ–º–µ | ‚úÖ –í—Å–µ–≥–¥–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è | ‚úÖ |
| **Location Scoring** | 80 points distance + 20 points bonus | ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç | ‚úÖ |
| **100-Point Algorithm** | 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π, 3 —É—Å–ª–æ–≤–∏—è | ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç | ‚úÖ |
| **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –≤–µ—Å–∞** | 3 –∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è | ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç | ‚úÖ |
| **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** | –ù–µ—Ç (–¥–ª—è MVP) | ‚úÖ –£–±—Ä–∞–Ω–æ | ‚úÖ |

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–¥–∏—É—Å–∞ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –¥–æ–º–æ–≤
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–∞ `distance_km` –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–æ–≤
- Location scoring —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ –°–æ–∑–¥–∞–Ω `SIMPLE_MATCHING_README.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω `DISTANCE_FILTERING_ANALYSIS.md` —Å –∞–Ω–∞–ª–∏–∑–æ–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω `IMPLEMENTATION_VALIDATION_REPORT.md` (—ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç)

### 3. –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ä–∞–¥–∏—É—Å–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏: —Å–∫–æ–ª—å–∫–æ –¥–æ–º–æ–≤ –≤ preferred vs expanded —Ä–∞–¥–∏—É—Å–µ
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Section 6) –≤ v2

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –≤–µ—Ä–¥–∏–∫—Ç

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó.**

–í—Å–µ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–¥–∏—É—Å–∞ (STEP 2)
- ‚úÖ –†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–æ–≤
- ‚úÖ Location scoring —Å —É—á–µ—Ç–æ–º –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
- ‚úÖ 100-point –∞–ª–≥–æ—Ä–∏—Ç–º —Å 5 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –≤–µ—Å–∞ (3 —É—Å–ª–æ–≤–∏—è)

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.**

