# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∏–∑ –¢–ó

## –î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏: 2025-01-27

---

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü–æ–∫—Ä—ã—Ç–∏–µ |
|-----------|--------|----------|
| –§–ê–ó–ê 0: –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 60% |
| –§–ê–ó–ê 1: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 50% |
| –§–ê–ó–ê 2: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 80% |
| –§–ê–ó–ê 3: AI-–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 90% |
| –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã | ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 0% |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∏–ø–æ–≤ —Å–∞–π—Ç–æ–≤ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 30% |
| –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 70% |
| **–ò–¢–û–ì–û** | **‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ** | **54%** |

---

## ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

### –§–ê–ó–ê 0: –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–∞–π—Ç–∞

#### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`phase0_analyze_site_structure()`** - –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –§–∞–∑—ã 0
2. **`_detect_cms()`** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ CMS –ø–æ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º
   - WordPress ‚úÖ
   - Drupal ‚úÖ
   - Wix ‚úÖ
   - Squarespace ‚úÖ
   - Webflow ‚úÖ
   - Shopify ‚úÖ
   - Custom ‚úÖ
3. **`_analyze_url_patterns()`** - –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ URL –∏–∑ HTML
   - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (listings, detail, regional, services, about, news, contact)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ BeautifulSoup –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
4. **`_detect_pagination()`** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 4 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (?page=N, /page/N/, ?offset=N, #page-N)

#### ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`detect_infinite_scroll()`** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ infinite scroll
2. **–ê–Ω–∞–ª–∏–∑ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è CMS (—Ç–æ–ª—å–∫–æ HTML)
3. **`SiteAnalyzer` –∫–ª–∞—Å—Å** - –ù–µ –≤—ã–¥–µ–ª–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å

---

### –§–ê–ó–ê 1: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ

#### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`phase1_discover_structure()`** - Map endpoint –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è URL
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Firecrawl Map API ‚úÖ
   - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è URL –ø–æ 17 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º ‚úÖ
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ 1000 URLs ‚úÖ
2. **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è URL** - –ü–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ URL
   - 17 –∫–∞—Ç–µ–≥–æ—Ä–∏–π (staff, facilities, services, pricing, activities, contact, nutrition, reviews, awards, safety, transport, media, policies, events, faq, about, other)

#### ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`ContentTypeClassifier`** - AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ Claude
   - `classify_page_type()` - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - `classify_batch()` - –ü–∞–∫–µ—Ç–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
2. **`URLPatternRecognizer`** - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ URL
   - `extract_url_template()` - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ URL
   - `match_url_to_template()` - –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ URL —Å —à–∞–±–ª–æ–Ω–∞–º–∏
3. **`ListingPageDetector`** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ listing pages
   - `detect_listing_indicators()` - –ü–æ–∏—Å–∫ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ listing page
4. **`SmartDiscovery` –∫–ª–∞—Å—Å** - –ù–µ –≤—ã–¥–µ–ª–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å
5. **Sample scrape –¥–ª—è AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏** - –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
6. **–£—Ç–æ—á–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ AI** - –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

### –§–ê–ó–ê 2: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä

#### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`phase2_semantic_crawl()`** - Semantic crawl —Å prompt
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Firecrawl Crawl API ‚úÖ
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π prompt –Ω–∞ –æ—Å–Ω–æ–≤–µ –§–∞–∑—ã 0 ‚úÖ
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è waitFor –Ω–∞ –æ—Å–Ω–æ–≤–µ CMS ‚úÖ
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ 50 —Å—Ç—Ä–∞–Ω–∏—Ü ‚úÖ
2. **`_generate_adaptive_prompt()`** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ prompt
   - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ URL patterns –∏–∑ –§–∞–∑—ã 0 ‚úÖ
   - –ë–∞–∑–æ–≤—ã–π prompt —Å 16 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ ‚úÖ
3. **`_poll_job()`** - Polling —Å—Ç–∞—Ç—É—Å–∞ crawl –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ‚úÖ

#### ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`_templates_to_regex()`** - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ URL templates –≤ regex –¥–ª—è includePaths
2. **`RateLimitedCrawler`** - Crawler —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–º rate limiting
   - `adaptive_delay()` - –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
   - `scrape_with_retry()` - Scrape —Å exponential backoff
3. **`_select_start_urls()`** - –í—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Å—Ç–∞—Ä—Ç–æ–≤—ã—Ö URL
4. **`SemanticCrawler` –∫–ª–∞—Å—Å** - –ù–µ –≤—ã–¥–µ–ª–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å

---

### –§–ê–ó–ê 3: AI-–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ

#### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`phase3_extract_structured_data()`** - AI-–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Claude API ‚úÖ
   - Fallback chain: Claude ‚Üí Firecrawl Extract ‚Üí Scrape ‚Üí Regex ‚úÖ
2. **`_extract_with_claude()`** - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Claude API
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Claude 3.5 Sonnet ‚úÖ
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–æ 400k —Å–∏–º–≤–æ–ª–æ–≤ ‚úÖ
   - –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–∞ ‚úÖ
3. **`_calculate_confidence()`** - –†–∞—Å—á–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - Weighted average (critical 60%, important 30%, optional 10%) ‚úÖ
4. **`_extract_with_regex()`** - Fallback –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ regex
   - UK phone numbers ‚úÖ
   - Email ‚úÖ
   - UK postcode ‚úÖ
5. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞** - 150+ –ø–æ–ª–µ–π –≤ 16 –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö ‚úÖ

#### ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`extract_batch()`** - –ü–∞–∫–µ—Ç–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å concurrency control
2. **`SemanticEntityExtractor` –∫–ª–∞—Å—Å** - –ù–µ –≤—ã–¥–µ–ª–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å
3. **–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `RegexEntityExtractor`** - –¢–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã

---

### –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

#### ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`NameExtractor`** - –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è
   - `extract_from_html()` - –ú–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ (H1, Title, OG, URL slug)
2. **`AddressParser`** - –ü–∞—Ä—Å–∏–Ω–≥ UK –∞–¥—Ä–µ—Å–æ–≤
   - `parse_uk_address()` - –†–∞–∑–±–æ—Ä –∞–¥—Ä–µ—Å–∞ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
3. **`FacilityDetector`** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É–¥–æ–±—Å—Ç–≤
   - `detect_facilities()` - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑ —Ç–µ–∫—Å—Ç–∞
   - `detect_from_images()` - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ alt —Ç–µ–∫—Å—Ç–∞–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

---

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–∞–π—Ç–æ–≤

#### ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **CMS Detection** - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `_detect_cms()`
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ CMS (WordPress, Wix, Drupal, etc.)

#### ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`WordPressExtractor`** - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –¥–ª—è WordPress
   - `extract_featured_image()` - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ featured image
   - `extract_custom_fields()` - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ custom fields
2. **`WixExtractor`** - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –¥–ª—è Wix
   - `scrape_wix_site()` - Scraping —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–º waitFor
3. **`CustomSiteExtractor`** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –¥–ª—è Custom —Å–∞–π—Ç–æ–≤
   - `extract_with_ai()` - –ü–æ–ª–Ω–æ—Å—Ç—å—é AI-driven –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ
4. **`StaticHTMLExtractor`** - –≠–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö HTML —Å–∞–π—Ç–æ–≤
   - `extract_with_beautifulsoup()` - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ BeautifulSoup

---

### –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`extract_care_home_complete()`** - –ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ 4-—Ñ–∞–∑–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
   - –§–ê–ó–ê 0: –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚úÖ
   - –§–ê–ó–ê 1: Map ‚úÖ
   - –§–ê–ó–ê 2: Crawl ‚úÖ
   - –§–ê–ó–ê 3: Extract ‚úÖ
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API** - Endpoints –≤ `main.py` ‚úÖ
3. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Anthropic API** - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Claude ‚úÖ
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏** - phase0_summary, map_summary, crawl_summary ‚úÖ

#### ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **`UniversalCareHomeScraper` –∫–ª–∞—Å—Å** - –ì–ª–∞–≤–Ω—ã–π orchestrator –∫–ª–∞—Å—Å
   - –ù–µ –≤—ã–¥–µ–ª–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å
   - –ú–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ `FirecrawlAPIClient`
2. **`_filter_detail_pages()`** - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ detail pages
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ URL templates
   - –≠–≤—Ä–∏—Å—Ç–∏–∫–∞ –ø–æ phone + postcode
3. **`_validate_and_clean()`** - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
   - Confidence threshold
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, email, URL
4. **`export_results()`** - –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - JSON, CSV, Excel —Ñ–æ—Ä–º–∞—Ç—ã
5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–æ–º–æ–≤** - –î–ª—è –∫–∞—Ç–∞–ª–æ–≥–æ–≤/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

---

## üìã –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º

### 1. SiteAnalyzer (–§–ê–ó–ê 0)

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
```python
class SiteAnalyzer:
    async def detect_cms(self, html: str, headers: dict) -> str
    async def analyze_site_structure(self, homepage_html: str) -> Dict
    def _classify_urls(self, urls: List[str]) -> Dict
    async def detect_pagination(self, listing_html: str) -> Optional[Dict]
    async def detect_infinite_scroll(self, html: str) -> bool
```

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ `_detect_cms()` - –ú–µ—Ç–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –Ω–æ –Ω–µ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å
- ‚úÖ `_analyze_url_patterns()` - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω–æ —É–ø—Ä–æ—â–µ–Ω–æ (–±–µ–∑ headers)
- ‚úÖ `_detect_pagination()` - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚ùå `detect_infinite_scroll()` - –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚ö†Ô∏è –ù–µ –≤—ã–¥–µ–ª–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å

**–ü–æ–∫—Ä—ã—Ç–∏–µ: 75%**

---

### 2. ContentTypeClassifier (–§–ê–ó–ê 1)

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
```python
class ContentTypeClassifier:
    def __init__(self, anthropic_api_key: str)
    async def classify_page_type(self, url: str, html_snippet: str) -> str
    async def classify_batch(self, pages: List[Dict[str, str]]) -> Dict[str, str]
```

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚ùå –ö–ª–∞—Å—Å –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ùå AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚ö†Ô∏è –¢–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ URL –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

**–ü–æ–∫—Ä—ã—Ç–∏–µ: 0%**

---

### 3. URLPatternRecognizer (–§–ê–ó–ê 1)

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
```python
class URLPatternRecognizer:
    @staticmethod
    def extract_url_template(urls: List[str]) -> Dict[str, str]
    @staticmethod
    def match_url_to_template(url: str, templates: Dict) -> Optional[str]
```

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚ùå –ö–ª–∞—Å—Å –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ùå –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ URL –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚ùå –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ URL —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–ü–æ–∫—Ä—ã—Ç–∏–µ: 0%**

---

### 4. SemanticCrawler (–§–ê–ó–ê 2)

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
```python
class SemanticCrawler:
    def _select_start_urls(self, url_patterns: Dict) -> List[str]
    def _generate_adaptive_prompt(self, discovery_result: Dict) -> str
    def _templates_to_regex(self, templates: Dict) -> List[str]
    async def _poll_crawl_status(self, crawl_id: str, max_wait: int = 600) -> List[Dict]
```

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ `_generate_adaptive_prompt()` - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `FirecrawlAPIClient`
- ‚úÖ `_poll_job()` - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–∞–Ω–∞–ª–æ–≥ `_poll_crawl_status`)
- ‚ùå `_select_start_urls()` - –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚ùå `_templates_to_regex()` - –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚ö†Ô∏è –ù–µ –≤—ã–¥–µ–ª–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å

**–ü–æ–∫—Ä—ã—Ç–∏–µ: 50%**

---

### 5. SemanticEntityExtractor (–§–ê–ó–ê 3)

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
```python
class SemanticEntityExtractor:
    async def extract_care_home_data(self, content: str, source_url: str, content_type: str = "markdown") -> Dict[str, Any]
    def _calculate_confidence(self, data: Dict) -> float
    async def extract_batch(self, pages: List[Dict], max_concurrent: int = 5) -> List[Dict]
```

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ `_extract_with_claude()` - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–∞–Ω–∞–ª–æ–≥ `extract_care_home_data`)
- ‚úÖ `_calculate_confidence()` - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚ùå `extract_batch()` - –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚ö†Ô∏è –ù–µ –≤—ã–¥–µ–ª–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å

**–ü–æ–∫—Ä—ã—Ç–∏–µ: 66%**

---

### 6. RegexEntityExtractor (Fallback)

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
```python
class RegexEntityExtractor:
    @staticmethod
    def extract_phone_numbers(text: str) -> List[str]
    @staticmethod
    def extract_email(text: str) -> Optional[str]
    @staticmethod
    def extract_uk_postcode(text: str) -> Optional[str]
    @staticmethod
    def extract_address(text: str, postcode: str) -> Optional[str]
    @staticmethod
    def extract_care_types(text: str) -> List[str]
    def extract_all(self, text: str) -> Dict
```

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ `_extract_with_regex()` - –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã (phone, email, postcode)
- ‚ùå `extract_care_types()` - –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚ùå `extract_address()` - –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)
- ‚ö†Ô∏è –ù–µ –≤—ã–¥–µ–ª–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å

**–ü–æ–∫—Ä—ã—Ç–∏–µ: 50%**

---

### 7. –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
- `NameExtractor.extract_from_html()` - ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- `AddressParser.parse_uk_address()` - ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- `FacilityDetector.detect_facilities()` - ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–ü–æ–∫—Ä—ã—Ç–∏–µ: 0%**

---

### 8. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
- `WordPressExtractor` - ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- `WixExtractor` - ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- `CustomSiteExtractor` - ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- `StaticHTMLExtractor` - ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–ü–æ–∫—Ä—ã—Ç–∏–µ: 0%**

---

### 9. UniversalCareHomeScraper (Orchestrator)

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:**
```python
class UniversalCareHomeScraper:
    async def scrape_site(self, base_url: str, max_pages: int = 500) -> Dict[str, Any]
    def _filter_detail_pages(self, pages: List[Dict], discovery: Dict) -> List[Dict]
    def _validate_and_clean(self, homes: List[Dict]) -> List[Dict]
    async def export_results(self, result: Dict, output_dir: str = "output")
```

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ `extract_care_home_complete()` - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–∞–Ω–∞–ª–æ–≥ `scrape_site` –¥–ª—è –æ–¥–Ω–æ–≥–æ –¥–æ–º–∞)
- ‚ùå `_filter_detail_pages()` - –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚ùå `_validate_and_clean()` - –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è)
- ‚ùå `export_results()` - –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚ö†Ô∏è –ù–µ –≤—ã–¥–µ–ª–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `FirecrawlAPIClient`

**–ü–æ–∫—Ä—ã—Ç–∏–µ: 25%**

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é:
1. ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ 4-—Ñ–∞–∑–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
2. ‚úÖ –§–ê–ó–ê 0: CMS detection, URL patterns analysis
3. ‚úÖ –§–ê–ó–ê 1: Map endpoint, URL classification
4. ‚úÖ –§–ê–ó–ê 2: Semantic crawl —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º prompt
5. ‚úÖ –§–ê–ó–ê 3: Claude extraction + fallback chain
6. ‚úÖ Confidence scoring
7. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API endpoints

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ:
1. ‚ö†Ô∏è –§–ê–ó–ê 0: –ù–µ—Ç infinite scroll detection, –Ω–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ headers
2. ‚ö†Ô∏è –§–ê–ó–ê 1: –ù–µ—Ç AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü, –Ω–µ—Ç URL templates
3. ‚ö†Ô∏è –§–ê–ó–ê 2: –ù–µ—Ç rate limiting, –Ω–µ—Ç retry logic
4. ‚ö†Ô∏è –§–ê–ó–ê 3: –ù–µ—Ç batch extraction —Å concurrency control
5. ‚ö†Ô∏è Fallback: –¢–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ regex –º–µ—Ç–æ–¥—ã

### –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. ‚ùå –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã (NameExtractor, AddressParser, FacilityDetector)
2. ‚ùå –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã (WordPress, Wix, Custom, Static)
3. ‚ùå ContentTypeClassifier –¥–ª—è AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
4. ‚ùå URLPatternRecognizer –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤
5. ‚ùå ListingPageDetector –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è listing pages
6. ‚ùå RateLimitedCrawler —Å adaptive delay
7. ‚ùå UniversalCareHomeScraper –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π orchestrator –∫–ª–∞—Å—Å
8. ‚ùå –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (JSON, CSV, Excel)
9. ‚ùå –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
10. ‚ùå –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è detail pages

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –ß–∞—Å—Ç–∏—á–Ω–æ | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –ü–æ–∫—Ä—ã—Ç–∏–µ |
|-----------|-------------|----------|----------------|----------|
| **–§–ê–ó–ê 0** | 3 | 1 | 1 | 60% |
| **–§–ê–ó–ê 1** | 1 | 1 | 4 | 20% |
| **–§–ê–ó–ê 2** | 2 | 0 | 3 | 40% |
| **–§–ê–ó–ê 3** | 3 | 1 | 1 | 75% |
| **–ê–ª–≥–æ—Ä–∏—Ç–º—ã** | 0 | 0 | 3 | 0% |
| **–¢–∏–ø—ã —Å–∞–π—Ç–æ–≤** | 0 | 1 | 4 | 20% |
| **Orchestrator** | 1 | 0 | 3 | 25% |
| **–ò–¢–û–ì–û** | **10** | **4** | **19** | **35%** |

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

1. ‚úÖ **–ë–∞–∑–æ–≤—ã–π 4-—Ñ–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥** - –í—Å–µ 4 —Ñ–∞–∑—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
2. ‚úÖ **CMS Detection** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ CMS –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
3. ‚úÖ **URL Classification** - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è URL –ø–æ 17 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
4. ‚úÖ **Adaptive Crawl** - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π prompt –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —Å–∞–π—Ç–∞
5. ‚úÖ **Claude Extraction** - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Claude API –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
6. ‚úÖ **Fallback Chain** - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã
7. ‚úÖ **Confidence Scoring** - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## ‚ùå –ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ –¢–ó:

1. ‚ùå **AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü** - –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
2. ‚ùå **URL Templates** - –ù–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
3. ‚ùå **Rate Limiting** - –ù–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ rate limiting
4. ‚ùå **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã** - –ù–µ—Ç —É–º–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π, –∞–¥—Ä–µ—Å–æ–≤, —É–¥–æ–±—Å—Ç–≤
5. ‚ùå **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã** - –ù–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è WordPress, Wix
6. ‚ùå **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –ù–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –æ—á–∏—Å—Ç–∫–∏
7. ‚ùå **–≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - –ù–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ CSV/Excel

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):
1. ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ContentTypeClassifier** - AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
2. ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å URLPatternRecognizer** - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ URL
3. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å Rate Limiting** - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π rate limiting —Å retry

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ):
4. ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã** - NameExtractor, AddressParser, FacilityDetector
5. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö** - _validate_and_clean()
6. ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é detail pages** - _filter_detail_pages()

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):
7. ‚úÖ **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã** - WordPress, Wix, Custom
8. ‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - JSON, CSV, Excel
9. ‚úÖ **Batch extraction** - extract_batch() —Å concurrency control

---

## üìù –í—ã–≤–æ–¥

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∫—Ä—ã–≤–∞–µ—Ç ~35% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∏–∑ –¢–ó.**

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ 4-—Ñ–∞–∑–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
- ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Firecrawl –∏ Claude API
- ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- ‚ùå AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚ùå URL templates recognition
- ‚ùå –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
- ‚ùå –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã
- ‚ùå –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ —ç–∫—Å–ø–æ—Ä—Ç

**–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑ –¢–ó –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏.**

