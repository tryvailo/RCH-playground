# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤: 3-—Ñ–∞–∑–Ω—ã–π vs 4-—Ñ–∞–∑–Ω—ã–π

## –î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞: 2025-01-27

---

## üìä –û–±–∑–æ—Ä –ø–æ–¥—Ö–æ–¥–æ–≤

### –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥: 3-—Ñ–∞–∑–Ω—ã–π (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)

```
–§–ê–ó–ê 1: Map ‚Üí –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è URL ‚Üí –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ URL
–§–ê–ó–ê 2: Crawl ‚Üí Semantic prompt ‚Üí Markdown –∫–æ–Ω—Ç–µ–Ω—Ç
–§–ê–ó–ê 3: Extract ‚Üí Firecrawl Extract endpoint ‚Üí –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```

### –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: 4-—Ñ–∞–∑–Ω—ã–π (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞)

```
–§–ê–ó–ê 0: –ê–Ω–∞–ª–∏–∑ ‚Üí CMS detection ‚Üí URL patterns ‚Üí Content types
–§–ê–ó–ê 1: Discovery ‚Üí Map + AI classification ‚Üí URL templates
–§–ê–ó–ê 2: Crawl ‚Üí Adaptive prompt ‚Üí Markdown/HTML
–§–ê–ó–ê 3: Extraction ‚Üí Claude API ‚Üí Structured data + Confidence
```

---

## üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

### –§–ê–ó–ê 0: –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–∞–π—Ç–∞

#### ‚ùå –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥: –ù–ï–¢ –§–ê–ó–´ 0
- –ù–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç CMS (WordPress, Wix, Custom)
- –ù–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã URL –∑–∞—Ä–∞–Ω–µ–µ
- –ù–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø—ã —Å—Ç—Ä–∞–Ω–∏—Ü –¥–æ crawl

#### ‚úÖ –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: –ï–°–¢–¨ –§–ê–ó–ê 0
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç CMS –ø–æ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º (`wp-content`, `wix.com`, etc.)
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç URL –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º (listings, detail, regional)
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏ infinite scroll
- –í—ã—è–≤–ª—è–µ—Ç —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ç–∏–ø—É —Å–∞–π—Ç–∞ (WordPress vs Wix vs Custom)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ crawl –Ω–∞ –æ—Å–Ω–æ–≤–µ CMS
- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ URL –¥–ª—è detail pages

**–ü—Ä–∏–º–µ—Ä:**
```python
# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ WordPress ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ wp-post-image –¥–ª—è —Ñ–æ—Ç–æ
# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Wix ‚Üí —É–≤–µ–ª–∏—á–µ–Ω–∏–µ waitFor –¥–ª—è JS
# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Custom ‚Üí –ø–æ–ª–Ω—ã–π AI-driven –ø–æ–¥—Ö–æ–¥
```

---

### –§–ê–ó–ê 1: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ

#### –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥: –ü—Ä–æ—Å—Ç–æ–π Map + –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
```python
# –§–ê–ó–ê 1: Map
map_result = await self.client.post("/map", json={"url": url, "limit": 1000})
all_urls = map_result.get("data", {}).get("urls", [])

# –ü—Ä–æ—Å—Ç–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
for url_item in all_urls:
    if 'staff' in url_path:
        classified["staff"].append(url_item)
    # ... 17 –∫–∞—Ç–µ–≥–æ—Ä–∏–π
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ùå –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ URL
- ‚ùå –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚ùå –ù–µ—Ç AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚ùå –ù–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è URL templates
- ‚ùå –ú–æ–∂–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/blog/staff-news` –ø–æ–ø–∞–¥–µ—Ç –≤ staff)

#### –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: Smart Discovery —Å AI
```python
# –§–ê–ó–ê 1: Map + AI Classification
map_result = firecrawl.map_url(base_url, limit=1000)

# –ü–µ—Ä–≤–∏—á–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
url_patterns = analyzer._classify_urls(all_urls)

# Sample scrape –¥–ª—è AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
sample_pages = scrape_samples(url_patterns[:20])
classifications = await classifier.classify_batch(sample_pages)

# –£—Ç–æ—á–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ AI
confirmed_patterns = refine_patterns(url_patterns, classifications)

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ URL templates
url_templates = URLPatternRecognizer.extract_url_template(detail_urls)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ AI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç URL templates (`/care-homes/{slug}/`)
- ‚úÖ –£—Ç–æ—á–Ω—è–µ—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ –†–∞–∑–ª–∏—á–∞–µ—Ç listing pages –æ—Ç detail pages
- ‚úÖ –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–∞–π—Ç–æ–≤

**–ü—Ä–∏–º–µ—Ä —É–ª—É—á—à–µ–Ω–∏—è:**
```
–¢–µ–∫—É—â–∏–π: /blog/staff-news ‚Üí classified as "staff" ‚ùå
–ù–æ–≤—ã–π:   /blog/staff-news ‚Üí AI: "news_article" ‚Üí excluded ‚úÖ
```

---

### –§–ê–ó–ê 2: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä

#### –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π prompt
```python
crawl_payload = {
    "url": url,
    "prompt": """Extract content from pages about:
    - Staff qualifications, team members...
    - Facilities: rooms, gardens...
    # ... —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
    """,
    "limit": min(len(priority_urls) + 10, 50)
}
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ùå –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π prompt –¥–ª—è –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤
- ‚ùå –ù–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å–∞–π—Ç–∞
- ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –§–∞–∑—ã 0/1
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω 50 —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

#### –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π prompt
```python
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ prompt –Ω–∞ –æ—Å–Ω–æ–≤–µ discovery
crawl_prompt = self._generate_adaptive_prompt(discovery_result)

# –ï—Å–ª–∏ –µ—Å—Ç—å URL templates, –¥–æ–±–∞–≤–ª—è–µ–º includePaths
if discovery_result.get('url_templates'):
    include_patterns = self._templates_to_regex(url_templates)
    crawl_params['includePaths'] = include_patterns
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ Prompt –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –Ω–∞–π–¥–µ–Ω–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç URL templates –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç crawl –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–∞–π—Ç–∞
- ‚úÖ –ú–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–µ —Å—Ç—Ä–∞–Ω–∏—Ü —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ

**–ü—Ä–∏–º–µ—Ä –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:**
```python
# –ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã detail pages ‚Üí —Ñ–æ–∫—É—Å –Ω–∞ –Ω–∏—Ö
if 'care_home_detail' in patterns:
    prompt += "Focus on individual care home pages..."

# –ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã listing pages ‚Üí –≤–∫–ª—é—á–∞–µ–º –∏—Ö
if 'care_home_listing' in patterns:
    prompt += "Include directory pages..."
```

---

### –§–ê–ó–ê 3: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

#### –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥: Firecrawl Extract endpoint
```python
extract_payload = {
    "urls": all_relevant_urls[:10],
    "prompt": "Extract comprehensive information...",
    "schema": full_schema
}
extract_result = await self.client.post("/extract", json=extract_payload)
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω 10 URL –∑–∞ —Ä–∞–∑
- ‚ùå –ù–µ—Ç confidence scoring
- ‚ùå –ù–µ—Ç fallback –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤
- ‚ùå –ó–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç Firecrawl AI
- ‚ùå –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

#### –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: Claude API + Fallback
```python
# –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥: Claude API
extracted_data = await self.entity_extractor.extract_care_home_data(
    content=markdown_content,
    source_url=url
)

# Fallback: Regex extraction
if not extracted_data or confidence < 0.3:
    regex_data = self.regex_extractor.extract_all(text)

# –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞
validated = self._validate_and_clean(extracted_data)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Claude 3.5 Sonnet (–±–æ–ª–µ–µ –º–æ—â–Ω–∞—è –º–æ–¥–µ–ª—å)
- ‚úÖ Confidence scoring (0.0-1.0)
- ‚úÖ Fallback –Ω–∞ regex –µ—Å–ª–∏ AI –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚úÖ –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å rate limiting
- ‚úÖ Graceful degradation (AI ‚Üí Regex ‚Üí Manual)

**–ü—Ä–∏–º–µ—Ä —É–ª—É—á—à–µ–Ω–∏—è:**
```
–¢–µ–∫—É—â–∏–π: Extract endpoint ‚Üí –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –æ—à–∏–±–∫–∞
–ù–æ–≤—ã–π:   Claude API ‚Üí –¥–∞–Ω–Ω—ã–µ + confidence 0.85
         –ï—Å–ª–∏ confidence < 0.3 ‚Üí Regex fallback
         –ï—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö ‚Üí Manual extraction
```

---

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π | 3-—Ñ–∞–∑–Ω—ã–π (—Ç–µ–∫—É—â–∏–π) | 4-—Ñ–∞–∑–Ω—ã–π (–Ω–æ–≤—ã–π) | –ü–æ–±–µ–¥–∏—Ç–µ–ª—å |
|----------|-------------------|------------------|------------|
| **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –∫ CMS** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ (–§–∞–∑–∞ 0) | üèÜ 4-—Ñ–∞–∑–Ω—ã–π |
| **AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ (Claude) | üèÜ 4-—Ñ–∞–∑–Ω—ã–π |
| **URL Template Detection** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | üèÜ 4-—Ñ–∞–∑–Ω—ã–π |
| **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π prompt** | ‚ùå –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π | ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π | üèÜ 4-—Ñ–∞–∑–Ω—ã–π |
| **Confidence Scoring** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ (0.0-1.0) | üèÜ 4-—Ñ–∞–∑–Ω—ã–π |
| **Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã** | ‚ö†Ô∏è –¢–æ–ª—å–∫–æ Scrape | ‚úÖ AI ‚Üí Regex ‚Üí Manual | üèÜ 4-—Ñ–∞–∑–Ω—ã–π |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | üèÜ 4-—Ñ–∞–∑–Ω—ã–π |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–∞–π—Ç–æ–≤** | ‚ö†Ô∏è –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π | ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π | üèÜ 4-—Ñ–∞–∑–Ω—ã–π |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | ‚úÖ –•–æ—Ä–æ—à–∞—è | ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è | üèÜ 4-—Ñ–∞–∑–Ω—ã–π |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | üí∞ –ù–∏–∑–∫–∞—è (—Ç–æ–ª—å–∫–æ Firecrawl) | üí∞üí∞ –°—Ä–µ–¥–Ω—è—è (+ Claude) | üèÜ 3-—Ñ–∞–∑–Ω—ã–π |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ‚ö° –ë—ã—Å—Ç—Ä–∞—è | ‚ö° –°—Ä–µ–¥–Ω—è—è (–±–æ–ª—å—à–µ —Ñ–∞–∑) | üèÜ 3-—Ñ–∞–∑–Ω—ã–π |
| **–¢–æ—á–Ω–æ—Å—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è** | ‚úÖ –•–æ—Ä–æ—à–∞—è | ‚úÖ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è | üèÜ 4-—Ñ–∞–∑–Ω—ã–π |
| **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –æ—à–∏–±–∫–∞–º** | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è | ‚úÖ –í—ã—Å–æ–∫–∞—è | üèÜ 4-—Ñ–∞–∑–Ω—ã–π |

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

### 1. –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

**3-—Ñ–∞–∑–Ω—ã–π:**
- –û–¥–∏–Ω –ø–æ–¥—Ö–æ–¥ –¥–ª—è –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤
- –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ CMS
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

**4-—Ñ–∞–∑–Ω—ã–π:**
- –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ç–∏–ø—É —Å–∞–π—Ç–∞ (WordPress, Wix, Custom)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö CMS

### 2. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å

**3-—Ñ–∞–∑–Ω—ã–π:**
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–æ URL –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ú–æ–∂–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å

**4-—Ñ–∞–∑–Ω—ã–π:**
- AI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –£—Ç–æ—á–Ω—è–µ—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç URL templates –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 3. –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö

**3-—Ñ–∞–∑–Ω—ã–π:**
- –ó–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç Firecrawl AI
- –ù–µ—Ç confidence scoring
- –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**4-—Ñ–∞–∑–Ω—ã–π:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Claude 3.5 Sonnet (–±–æ–ª–µ–µ –º–æ—â–Ω–∞—è –º–æ–¥–µ–ª—å)
- Confidence scoring –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã

### 4. –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

**3-—Ñ–∞–∑–Ω—ã–π:**
- –ï—Å–ª–∏ Extract endpoint –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí fallback –∫ Scrape
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

**4-—Ñ–∞–∑–Ω—ã–π:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ fallback: AI ‚Üí Regex ‚Üí Manual
- Graceful degradation
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π rate limiting
- Retry logic —Å exponential backoff

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 3-—Ñ–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥:

‚úÖ **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –ë—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –°–∞–π—Ç–æ–≤ —Å –ø—Ä–æ—Å—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞ (—Ç–æ–ª—å–∫–æ Firecrawl)
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –±–æ–ª—å—à–µ —Ç–æ—á–Ω–æ—Å—Ç–∏

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 4-—Ñ–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥:

‚úÖ **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- Production deployment
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ç—ã—Å—è—á–∏ —Å–∞–π—Ç–æ–≤
- –°–ª–æ–∂–Ω—ã—Ö —Å–∞–π—Ç–æ–≤ (Wix, Custom CMS)
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
- –ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –æ—à–∏–±–∫–∞–º

---

## üèÜ –í—ã–≤–æ–¥: –ö–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π?

### **4-—Ñ–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –ë–û–õ–ï–ï –ü–†–û–î–í–ò–ù–£–¢–´–ô** –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –±–æ–ª–µ–µ –∑—Ä–µ–ª—ã–π:**
   - –§–∞–∑–∞ 0 –¥–æ–±–∞–≤–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–∞–π—Ç–∞
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ —Ç–∏–ø—É —Å–∞–π—Ç–∞
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞

2. **–ë–æ–ª–µ–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç AI –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç URL templates –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π prompt –Ω–∞ –æ—Å–Ω–æ–≤–µ discovery

3. **–ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π:**
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã
   - Confidence scoring –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

4. **–ë–æ–ª–µ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π:**
   - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö CMS
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–∞–π—Ç–∞
   - –õ—É—á—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ edge cases

5. **–ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Claude 3.5 Sonnet (–ª—É—á—à–µ —á–µ–º Firecrawl AI)
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ URL
   - –£—Ç–æ—á–Ω—è–µ—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞

---

## ‚öñÔ∏è –ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã

### 3-—Ñ–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
- ‚úÖ –ü—Ä–æ—â–µ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ (–º–µ–Ω—å—à–µ —Ñ–∞–∑)
- ‚úÖ –î–µ—à–µ–≤–ª–µ (—Ç–æ–ª—å–∫–æ Firecrawl)
- ‚ùå –ú–µ–Ω–µ–µ —Ç–æ—á–Ω—ã–π
- ‚ùå –ú–µ–Ω–µ–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π
- ‚ùå –ú–µ–Ω–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π

### 4-—Ñ–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
- ‚úÖ –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π
- ‚úÖ –ë–æ–ª–µ–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π
- ‚úÖ –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (–±–æ–ª—å—à–µ —Ñ–∞–∑)
- ‚ùå –î–æ—Ä–æ–∂–µ (+ Claude API)

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | 3-—Ñ–∞–∑–Ω—ã–π | 4-—Ñ–∞–∑–Ω—ã–π | –†–∞–∑–Ω–∏—Ü–∞ |
|---------|----------|----------|---------|
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –∑—Ä–µ–ª–æ—Å—Ç—å** | 7/10 | 9/10 | +2 |
| **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å** | 6/10 | 9/10 | +3 |
| **–¢–æ—á–Ω–æ—Å—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è** | 7/10 | 9/10 | +2 |
| **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** | 6/10 | 9/10 | +3 |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | 7/10 | 9/10 | +2 |
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞** | 9/10 | 6/10 | -3 |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | 8/10 | 6/10 | -2 |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | 9/10 | 7/10 | -2 |
| **–ò–¢–û–ì–û** | **7.1/10** | **8.0/10** | **+0.9** |

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**4-—Ñ–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π** –∏ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è production deployment, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è:
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ç—ã—Å—è—á–∏ —Å–∞–π—Ç–æ–≤
- –°–ª–æ–∂–Ω—ã—Ö —Å–∞–π—Ç–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ CMS
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å

**3-—Ñ–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥** –æ—Å—Ç–∞–µ—Ç—Å—è —Ö–æ—Ä–æ—à–∏–º –≤—ã–±–æ—Ä–æ–º –¥–ª—è:
- –ë—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ—Å—Ç—ã—Ö —Å–∞–π—Ç–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–º–æ–≤ –ø—Ä–µ—Å—Ç–∞—Ä–µ–ª—ã—Ö (15,000+ —Å–∞–π—Ç–æ–≤ UK) –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **4-—Ñ–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥** –∏–∑-–∑–∞ –µ–≥–æ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.

