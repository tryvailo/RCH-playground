# üöÄ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å Anthropic Claude API

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–∞ Anthropic (`your-anthropic-api-key`) –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Ç–∞–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

---

## üìç **Frontend –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**

### 1. **Firecrawl Explorer** (`/firecrawl`)
**URL:** `http://localhost:3000/firecrawl`

#### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

##### ‚úÖ **1.1. –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–∞–π—Ç–∞ –¥–æ–º–∞ –ø—Ä–µ—Å—Ç–∞—Ä–µ–ª—ã—Ö**
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `POST /api/firecrawl/analyze`
- **–§—É–Ω–∫—Ü–∏—è:** `extract_care_home_data_full()`
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç 4-—Ñ–∞–∑–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∞–ø–∏–Ω–≥
  - **–§–ê–ó–ê 0:** –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–∞–π—Ç–∞ (CMS, URL patterns)
  - **–§–ê–ó–ê 1:** Map - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
  - **–§–ê–ó–ê 2:** Crawl - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  - **–§–ê–ó–ê 3:** Extract - AI-–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Claude (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- **–£–ª—É—á—à–µ–Ω–∏—è —Å Anthropic:**
  - –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  - –ë–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- **–ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
  - Staff (–ø–µ—Ä—Å–æ–Ω–∞–ª)
  - Facilities (—É–¥–æ–±—Å—Ç–≤–∞)
  - Services (—É—Å–ª—É–≥–∏)
  - Pricing (—Ü–µ–Ω—ã)
  - Activities (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
  - Contact (–∫–æ–Ω—Ç–∞–∫—Ç—ã)
  - Nutrition (–ø–∏—Ç–∞–Ω–∏–µ)
  - Reviews (–æ—Ç–∑—ã–≤—ã)
  - Awards (–Ω–∞–≥—Ä–∞–¥—ã)
  - Safety (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
  - Transport (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç)
  - Media (–º–µ–¥–∏–∞)
  - Policies (–ø–æ–ª–∏—Ç–∏–∫–∏)
  - Events (—Å–æ–±—ã—Ç–∏—è)
  - FAQ (—á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã)
  - About (–æ –Ω–∞—Å)

##### ‚úÖ **1.2. –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ —É—Ö–æ–¥–∞ –∑–∞ –¥–µ–º–µ–Ω—Ü–∏–µ–π**
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `POST /api/firecrawl/dementia-care-analysis`
- **–§—É–Ω–∫—Ü–∏—è:** `extract_dementia_care_quality()`
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
  - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ —É—Ö–æ–¥–∞ –∑–∞ –ª—é–¥—å–º–∏ —Å –¥–µ–º–µ–Ω—Ü–∏–µ–π
  - **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç Claude 3.5 Sonnet** –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- **–£–ª—É—á—à–µ–Ω–∏—è —Å Anthropic:**
  - ‚úÖ **–ì–ª—É–±–æ–∫–∏–π AI-–∞–Ω–∞–ª–∏–∑** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Claude 3.5 Sonnet
  - ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞** –ø–æ 8 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
    1. **Specialist Team** (–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞)
    2. **Unit Design** (–î–∏–∑–∞–π–Ω –æ—Ç–¥–µ–ª–µ–Ω–∏—è)
    3. **Activity Programs** (–ü—Ä–æ–≥—Ä–∞–º–º—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
    4. **Family Involvement** (–í–æ–≤–ª–µ—á–µ–Ω–∏–µ —Å–µ–º—å–∏)
    5. **Staff Ratio** (–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞)
    6. **Behavioral Support** (–ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞)
    7. **End of Life Care** (–£—Ö–æ–¥ –≤ –∫–æ–Ω—Ü–µ –∂–∏–∑–Ω–∏)
    8. **Overall Assessment** (–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞)
  - ‚úÖ **–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞** (1-10 –±–∞–ª–ª–æ–≤) –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  - ‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è** –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
  - ‚úÖ **–í—ã—è–≤–ª–µ–Ω–∏–µ —Å–∏–ª—å–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω –∏ –ø—Ä–æ–±–µ–ª–æ–≤**
- **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
  ```json
  {
    "dementia_care_quality_score": 8.5,
    "rating_reasoning": "–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ...",
    "specialist_team": {
      "score": 9,
      "details": "...",
      "strengths": ["..."],
      "gaps": ["..."]
    },
    "unit_design": {...},
    "activity_programs": {...},
    "family_involvement": {...},
    "staff_ratio": {...},
    "behavioral_support": {...},
    "end_of_life_care": {...},
    "overall_assessment": "...",
    "recommendations": ["..."]
  }
  ```

---

## üîß **Backend API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã**

### 2. **Unified Analysis** (–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑)
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `POST /api/firecrawl/unified-analysis`
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
  - –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –∞–Ω–∞–ª–∏–∑ —Å–∞–π—Ç–∞ —á–µ—Ä–µ–∑ Firecrawl —Å –¥–∞–Ω–Ω—ã–º–∏ Google Places
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Anthropic –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `website_url` - URL —Å–∞–π—Ç–∞ –¥–æ–º–∞ –ø—Ä–µ—Å—Ç–∞—Ä–µ–ª—ã—Ö
  - `care_home_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–º–∞ –ø—Ä–µ—Å—Ç–∞—Ä–µ–ª—ã—Ö

### 3. **Extract Endpoint** (–ü—Ä—è–º–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ)
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `POST /api/firecrawl/extract`
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
  - –ü—Ä—è–º–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º URL —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ö–µ–º—ã
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Anthropic –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `urls` - –°–ø–∏—Å–æ–∫ URL –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
  - `prompt` - –ü—Ä–æ–º–ø—Ç –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
  - `schema` - JSON —Å—Ö–µ–º–∞ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## üéØ **–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è —Å Anthropic**

### ‚úÖ **1. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –õ—É—á—à–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–±–µ–∑ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä)

### ‚úÖ **2. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–µ–º–µ–Ω—Ü–∏–∏**
- –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ —É—Ö–æ–¥–∞
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ **3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä**
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º CMS

---

## üìä **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

### **–ß–µ—Ä–µ–∑ Frontend:**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ:** `http://localhost:3000/firecrawl`
2. **–í–≤–µ–¥–∏—Ç–µ:**
   - –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–º–∞ –ø—Ä–µ—Å—Ç–∞—Ä–µ–ª—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - URL —Å–∞–π—Ç–∞
3. **–í—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é:**
   - **"Analyze Care Home"** - –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
   - **"Dementia Care Analysis"** - –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —É—Ö–æ–¥–∞ –∑–∞ –¥–µ–º–µ–Ω—Ü–∏–µ–π
4. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É** –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### **–ß–µ—Ä–µ–∑ API –Ω–∞–ø—Ä—è–º—É—é:**

```bash
# –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑
curl -X POST http://localhost:8000/api/firecrawl/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://www.example-care-home.co.uk",
    "care_home_name": "Example Care Home"
  }'

# –ê–Ω–∞–ª–∏–∑ –¥–µ–º–µ–Ω—Ü–∏–∏
curl -X POST http://localhost:8000/api/firecrawl/dementia-care-analysis \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://www.example-care-home.co.uk",
    "care_home_name": "Example Care Home"
  }'
```

---

## ‚öôÔ∏è **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**

### **–ú–æ–¥–µ–ª—å Claude:**
- **–î–ª—è –¥–µ–º–µ–Ω—Ü–∏–∏:** `claude-3-5-sonnet-20241022`
- **Max tokens:** 2000
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é (–¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞)

### **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- –ï—Å–ª–∏ Anthropic –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback –Ω–∞ Firecrawl Extract API
- –ï—Å–ª–∏ Extract API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Scrape —Å JSON schema
- –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- **–¢–∞–π–º–∞—É—Ç –¥–ª—è –¥–µ–º–µ–Ω—Ü–∏–∏:** 5 –º–∏–Ω—É—Ç
- **–¢–∞–π–º–∞—É—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:** 10 –º–∏–Ω—É—Ç
- **–û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏:** ~$0.05-0.10 –∑–∞ –∞–Ω–∞–ª–∏–∑

---

## üîç **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã Anthropic**

### **–í –ª–æ–≥–∞—Ö –±—ç–∫–µ–Ω–¥–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:**
```
‚úÖ Anthropic Claude client initialized
üîç PHASE 3: AI extraction (Claude ‚Üí Firecrawl ‚Üí Regex)...
```

### **–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –∞–Ω–∞–ª–∏–∑–∞:**
- `extraction_method: "firecrawl-semantic-claude-analysis"` - –¥–ª—è –¥–µ–º–µ–Ω—Ü–∏–∏
- –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

---

## üìù **–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

### **–ü—Ä–∏–º–µ—Ä 1: Clare Court**
```
URL: https://www.averyhealthcare.co.uk/care-homes/clare-court/
–ù–∞–∑–≤–∞–Ω–∏–µ: Clare Court
```

### **–ü—Ä–∏–º–µ—Ä 2: Barchester Healthcare**
```
URL: https://www.barchester.com/
–ù–∞–∑–≤–∞–Ω–∏–µ: Barchester Healthcare
```

---

## ‚úÖ **–°—Ç–∞—Ç—É—Å**

- ‚úÖ –ö–ª—é—á Anthropic –¥–æ–±–∞–≤–ª–µ–Ω –≤ `config.json`
- ‚úÖ –ö–ª—é—á –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Firecrawl –∞–∫—Ç–∏–≤–Ω–∞
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-01-XX
**–í–µ—Ä—Å–∏—è:** 1.0

