# –î–ï–¢–ê–õ–¨–ù–´–ô –ß–ï–ö–õ–ò–°–¢ –ü–†–û–í–ï–†–ö–ò –ú–ê–ü–ü–ò–ù–ì–ê Autumna ‚Üí care_homes

**–í–µ—Ä—Å–∏—è:** 1.1 üÜï v2.4

**–î–∞—Ç–∞:** 3 –Ω–æ—è–±—Ä—è 2025 –≥.

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –º–∞–ø–ø–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö Autumna

**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è v2.4:**
- ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø: has_nursing_care_license (–¥–ª—è CQC), year_opened
- üÜï –ù–æ–≤—ã–µ –ø–æ–ª—è: provider_telephone_number, provider_hsca_start_date (—Ç–æ–ª—å–∫–æ CQC API, –Ω–µ –∏–∑ Autumna)

---

## üìã –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —á–µ–∫–ª–∏—Å—Ç

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª—ã** –ø—Ä–æ–µ–∫—Ç–∞ (response_format, prompt, mapper.py, SQL functions)
2. **–ü—Ä–æ–π–¥–∏—Ç–µ –í–°–ï –ø—É–Ω–∫—Ç—ã** –ø–æ –ø–æ—Ä—è–¥–∫—É, –æ—Ç–º–µ—á–∞—è ‚úÖ –∏–ª–∏ ‚ùå
3. **–ó–∞–ø–∏—à–∏—Ç–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã** –≤ —Ä–∞–∑–¥–µ–ª "–ù–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏"
4. **–ü–æ–¥—Å—á–∏—Ç–∞–π—Ç–µ –∏—Ç–æ–≥–æ–≤—É—é –æ—Ü–µ–Ω–∫—É** –≤ –∫–æ–Ω—Ü–µ
5. **–ü—Ä–∏–º–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ** –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ü–µ–Ω–∫–∏

---

## –†–ê–ó–î–ï–õ 1: –°–¢–†–£–ö–¢–£–†–ê –ò –û–†–ì–ê–ù–ò–ó–ê–¶–ò–Ø

### 1.1 –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- [ ] **1.1.1** –ï—Å—Ç—å —Ñ–∞–π–ª `response_format_v2_3_FIXED.json` (JSON Schema)
- [ ] **1.1.2** –ï—Å—Ç—å —Ñ–∞–π–ª `AUTUMNA_PARSING_PROMPT_v2_3_HYBRID_ULTIMATE.md` (System prompt)
- [ ] **1.1.3** –ï—Å—Ç—å —Ñ–∞–π–ª `autumna_mapper.py` (Python mapper module)
- [ ] **1.1.4** –ï—Å—Ç—å —Ñ–∞–π–ª `autumna_sql_functions.sql` (SQL validation functions)
- [ ] **1.1.5** –ï—Å—Ç—å —Ñ–∞–π–ª `validation_functions.py` (Python validator)

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 1.1:** ___/5

---

### 1.2 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] **1.2.1** –ï—Å—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–¢–ó)
- [ ] **1.2.2** –ï—Å—Ç—å README —Å quick start guide
- [ ] **1.2.3** –ï—Å—Ç—å CHANGELOG —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤–µ—Ä—Å–∏–π
- [ ] **1.2.4** –ö–æ–¥ –∏–º–µ–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (>= 10% –æ—Ç –æ–±—ä–µ–º–∞)
- [ ] **1.2.5** –ï—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 1.2:** ___/5

---

## –†–ê–ó–î–ï–õ 2: JSON SCHEMA VALIDATION

### 2.1 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï)

- [ ] **2.1.1** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `identity.cqc_location_id` –∏–º–µ–µ—Ç `"type": "string"` (–ù–ï `["string", "null"]`)
  - ‚ùå **–û–®–ò–ë–ö–ê –ï–°–õ–ò:** `"type": ["string", "null"]` - —Å–∏—Å—Ç–µ–º–∞ —É–ø–∞–¥–µ—Ç –≤ production!
  
- [ ] **2.1.2** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `identity.name` –∏–º–µ–µ—Ç `"type": "string"` (–ù–ï nullable)
  
- [ ] **2.1.3** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `location.city` –∏–º–µ–µ—Ç `"type": "string"` (–ù–ï `["string", "null"]`)
  - ‚ùå **–û–®–ò–ë–ö–ê –ï–°–õ–ò:** `"type": ["string", "null"]` - –Ω–∞—Ä—É—à–µ–Ω–∏–µ NOT NULL constraint!
  
- [ ] **2.1.4** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `location.postcode` –∏–º–µ–µ—Ç `"type": "string"` (–ù–ï `["string", "null"]`)
  - ‚ùå **–û–®–ò–ë–ö–ê –ï–°–õ–ò:** `"type": ["string", "null"]` - –Ω–∞—Ä—É—à–µ–Ω–∏–µ NOT NULL constraint!

**–¢–µ—Å—Ç:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ JSON Schema:
```bash
grep -A 3 '"cqc_location_id"' response_format_v2_3_FIXED.json
# –û–∂–∏–¥–∞–µ—Ç—Å—è: "type": "string"
# –ù–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨: "type": ["string", "null"]
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 2.1:** ___/4

---

### 2.2 –§–æ—Ä–º–∞—Ç—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

- [ ] **2.2.1** `cqc_location_id` –∏–º–µ–µ—Ç `"pattern": "^1-\\d{10}$"`
- [ ] **2.2.2** `provider_id` –∏–º–µ–µ—Ç `"pattern": "^1-\\d{9}$"`
- [ ] **2.2.3** `postcode` –∏–º–µ–µ—Ç regex –¥–ª—è UK postcode
- [ ] **2.2.4** `scraped_at` –∏–º–µ–µ—Ç `"pattern"` –¥–ª—è ISO 8601 timestamp
- [ ] **2.2.5** `email` –∏–º–µ–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é email —Ñ–æ—Ä–º–∞—Ç–∞

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 2.2:** ___/5

---

### 2.3 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ user_categories (–ö–†–ò–¢–ò–ß–ù–û!)

- [ ] **2.3.1** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ï—Å—Ç—å –ø–æ–ª–µ `serves_older_people` (–ù–ï `serves_elderly`)
  - ‚ùå **–û–®–ò–ë–ö–ê –ï–°–õ–ò:** `serves_elderly` - –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ë–î!
  
- [ ] **2.3.2** –ï—Å—Ç—å –ø–æ–ª–µ `serves_younger_adults`
- [ ] **2.3.3** –ï—Å—Ç—å –ø–æ–ª–µ `serves_mental_health`
- [ ] **2.3.4** –ï—Å—Ç—å –ø–æ–ª–µ `serves_physical_disabilities`
- [ ] **2.3.5** –ï—Å—Ç—å –ø–æ–ª–µ `serves_sensory_impairments`

**–¢–µ—Å—Ç:**
```bash
grep -o '"serves_[a-z_]*"' response_format_v2_3_FIXED.json | sort -u
# –û–∂–∏–¥–∞–µ—Ç—Å—è: serves_older_people, serves_younger_adults, ...
# –ù–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨: serves_elderly, serves_dementia
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 2.3:** ___/5

---

### 2.4 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ licenses (–ö–†–ò–¢–ò–ß–ù–û!)

- [ ] **2.4.1** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ï—Å—Ç—å —Å–µ–∫—Ü–∏—è `licenses` (–æ—Ç–¥–µ–ª—å–Ω–∞—è –æ—Ç `care_services`)
- [ ] **2.4.2** `licenses.nursing_care` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **2.4.3** `licenses.personal_care` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **2.4.4** `licenses.surgical_procedures` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **2.4.5** `licenses.treatment_of_disease` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **2.4.6** `licenses.diagnostic_procedures` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–í–∞–∂–Ω–æ:** –°–µ–∫—Ü–∏—è `licenses` –î–û–õ–ñ–ù–ê –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–π –æ—Ç `care_services`!

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 2.4:** ___/6

---

### 2.5 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ care_services

- [ ] **2.5.1** –ï—Å—Ç—å —Å–µ–∫—Ü–∏—è `care_services` (–æ—Ç–¥–µ–ª—å–Ω–∞—è –æ—Ç `licenses`)
- [ ] **2.5.2** `care_services.residential_care` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **2.5.3** `care_services.nursing_care` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **2.5.4** `care_services.dementia_care` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **2.5.5** `care_services.respite_care` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 2.5:** ___/5

---

### 2.6 –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –ë–î)

- [ ] **2.6.1** –ï—Å—Ç—å –ø–æ–ª–µ `location.local_authority`
- [ ] **2.6.2** –ï—Å—Ç—å –ø–æ–ª–µ `identity.location_ods_code`
- [ ] **2.6.3** –ï—Å—Ç—å –ø–æ–ª–µ `availability.status`
- [ ] **2.6.4** –ï—Å—Ç—å –ø–æ–ª–µ `availability.last_checked`
- [ ] **2.6.5** –ï—Å—Ç—å –ø–æ–ª–µ `availability.is_dormant`
- [ ] **2.6.6** –ï—Å—Ç—å —Å–µ–∫—Ü–∏—è `accreditations`
- [ ] **2.6.7** –ï—Å—Ç—å —Å–µ–∫—Ü–∏—è `cqc_ratings` —Å 9 –ø–æ–ª—è–º–∏
- [ ] **2.6.8** –ï—Å—Ç—å —Å–µ–∫—Ü–∏—è `reviews` —Å 3 –ø–æ–ª—è–º–∏
- [ ] **2.6.9** –ï—Å—Ç—å —Å–µ–∫—Ü–∏—è `media`

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 2.6:** ___/9

---

### 2.7 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ building_and_facilities (–ö–†–ò–¢–ò–ß–ù–û!)

- [ ] **2.7.1** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `wheelchair_access` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ (–ù–ï –≤ `accessibility.wheelchair_access`)
  - ‚ùå **–û–®–ò–ë–ö–ê –ï–°–õ–ò:** –í–ª–æ–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - —É—Å–ª–æ–∂–Ω—è–µ—Ç –º–∞–ø–ø–∏–Ω–≥!
  
- [ ] **2.7.2** `ensuite_rooms` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ (boolean)
- [ ] **2.7.3** `secure_garden` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ
- [ ] **2.7.4** `wifi_available` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ
- [ ] **2.7.5** `parking_onsite` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ
- [ ] **2.7.6** –ï—Å—Ç—å —Å–µ–∫—Ü–∏—è `building_details` –¥–ª—è JSONB

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```json
{
  "building_and_facilities": {
    "wheelchair_access": {"type": ["boolean", "null"]},  // –ü–ª–æ—Å–∫–æ–µ –ø–æ–ª–µ
    "ensuite_rooms": {"type": ["boolean", "null"]},      // –ü–ª–æ—Å–∫–æ–µ –ø–æ–ª–µ
    "building_details": {                                 // JSONB
      "number_of_ensuite_rooms": {"type": ["integer", "null"]}
    }
  }
}
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 2.7:** ___/6

---

### 2.8 –ü–æ–∫—Ä—ã—Ç–∏–µ –ø–æ–ª–µ–π (–æ–±—â–µ–µ)

- [ ] **2.8.1** –í—Å–µ–≥–æ –ø–æ–ª–µ–π –≤ JSON Schema: ___ (–æ–∂–∏–¥–∞–µ—Ç—Å—è: 100-110)
- [ ] **2.8.2** –ü–æ–∫—Ä—ã—Ç–∏–µ –ø–ª–æ—Å–∫–∏—Ö –ø–æ–ª–µ–π –ë–î: ___ % (–æ–∂–∏–¥–∞–µ—Ç—Å—è: >= 85%)
- [ ] **2.8.3** –ü–æ–∫—Ä—ã—Ç–∏–µ JSONB –ø–æ–ª–µ–π –ë–î: ___ % (–æ–∂–∏–¥–∞–µ—Ç—Å—è: 100%)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏:**
- ‚úÖ –û—Ç–ª–∏—á–Ω–æ: >= 85% –ø–æ–∫—Ä—ã—Ç–∏–µ –ø–ª–æ—Å–∫–∏—Ö –ø–æ–ª–µ–π + 100% JSONB
- ‚ö†Ô∏è –•–æ—Ä–æ—à–æ: 70-84% + 100% JSONB
- ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ: < 70%

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 2.8:** ___/3

---

## –†–ê–ó–î–ï–õ 3: SYSTEM PROMPT VALIDATION

### 3.1 –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–∞

- [ ] **3.1.1** –ï—Å—Ç—å —Å–µ–∫—Ü–∏—è "GOLDEN RULES" –∏–ª–∏ "KEY PRINCIPLES"
- [ ] **3.1.2** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- [ ] **3.1.3** –ï—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã HTML ‚Üí JSON –º–∞–ø–ø–∏–Ω–≥–∞
- [ ] **3.1.4** –ï—Å—Ç—å —Å–µ–∫—Ü–∏—è "PRIORITY FIELDS"
- [ ] **3.1.5** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 3.1:** ___/5

---

### 3.2 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï)

- [ ] **3.2.1** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ï—Å—Ç—å –Ø–í–ù–ê–Ø –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ —Ç–æ–º, —á—Ç–æ `cqc_location_id` –û–ë–Ø–ó–ê–¢–ï–õ–ï–ù
  - –ü—Ä–∏–º–µ—Ä: "cqc_location_id is REQUIRED - system will fail without it"
  
- [ ] **3.2.2** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é `cqc_location_id` –∏–∑ URL
  - –ü—Ä–∏–º–µ—Ä: "Extract from URL pattern: autumna.co.uk/care-homes/{slug}/1-XXXXXXXXXX"
  
- [ ] **3.2.3** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ —Ç–æ–º, —á—Ç–æ `city` –∏ `postcode` –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´
  
- [ ] **3.2.4** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–∞—Ä—Å–∏–Ω–≥—É –∞–¥—Ä–µ—Å–∞ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è `city`

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 3.2:** ___/4

---

### 3.3 –†–∞–∑–ª–∏—á–∏–µ licenses vs care_services (–ö–†–ò–¢–ò–ß–ù–û!)

- [ ] **3.3.1** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ï—Å—Ç—å –Ø–í–ù–û–ï –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–∏—è `licenses` vs `care_services`
  - –ü—Ä–∏–º–µ—Ä: "licenses = what home is LEGALLY ALLOWED to do (CQC regulated activities)"
  - –ü—Ä–∏–º–µ—Ä: "care_services = what home OFFERS (marketing, positioning)"
  
- [ ] **3.3.2** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ï—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã HTML –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è licenses
  - –ü—Ä–∏–º–µ—Ä: "Regulated Activities: Nursing Care" ‚Üí `licenses.nursing_care = true`
  
- [ ] **3.3.3** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ï—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã HTML –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è care_services
  - –ü—Ä–∏–º–µ—Ä: "Services: Nursing Care" ‚Üí `care_services.nursing_care = true`
  
- [ ] **3.3.4** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ï—Å—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "NEVER map service types to license fields!"

**–≠—Ç–æ –°–ê–ú–ê–Ø –í–ê–ñ–ù–ê–Ø —á–∞—Å—Ç—å –ø—Ä–æ–º–ø—Ç–∞!** –ë–µ–∑ –Ω–µ–µ –±—É–¥—É—Ç —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã.

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 3.3:** ___/4

---

### 3.4 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ user_categories

- [ ] **3.4.1** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ—Ä–∏–≤–∞—Ü–∏–∏ `serves_older_people`
  - –ü—Ä–∏–º–µ—Ä: "If age 65+ mentioned ‚Üí serves_older_people = true"
  
- [ ] **3.4.2** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ—Ä–∏–≤–∞—Ü–∏–∏ –∏–∑ medical_specialisms
  - –ü—Ä–∏–º–µ—Ä: "If dementia care ‚Üí serves_older_people = true"
  
- [ ] **3.4.3** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ—Ä–∏–≤–∞—Ü–∏–∏ `serves_younger_adults`

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 3.4:** ___/3

---

### 3.5 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º

- [ ] **3.5.1** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é latitude/longitude
- [ ] **3.5.2** –ï—Å—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ UK –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ (lat 49-61, lon -8 to 2)
- [ ] **3.5.3** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é –∏–∑ schema.org –∏–ª–∏ map embeds

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 3.5:** ___/3

---

### 3.6 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ CQC ratings

- [ ] **3.6.1** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
- [ ] **3.6.2** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é –¥–∞—Ç –∏–Ω—Å–ø–µ–∫—Ü–∏–π
- [ ] **3.6.3** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é URL –æ—Ç—á–µ—Ç–∞ CQC
- [ ] **3.6.4** –ï—Å—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 3.6:** ___/4

---

### 3.7 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ reviews

- [ ] **3.7.1** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é average_score
- [ ] **3.7.2** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é review_count
- [ ] **3.7.3** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é google_rating

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 3.7:** ___/3

---

### 3.8 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ media

- [ ] **3.8.1** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (images[])
- [ ] **3.8.2** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é virtual tour
- [ ] **3.8.3** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é video_url

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 3.8:** ___/3

---

### 3.9 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ local_authority

- [ ] **3.9.1** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é local_authority
- [ ] **3.9.2** –ï—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ ("Birmingham City Council", "Royal Borough of...")
- [ ] **3.9.3** –ï—Å—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (structured data > visible text > address parsing)

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 3.9:** ___/3

---

### 3.10 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ data quality

- [ ] **3.10.1** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é `is_dormant`
- [ ] **3.10.2** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—é `extraction_confidence`
- [ ] **3.10.3** –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 3.10:** ___/3

---

## –†–ê–ó–î–ï–õ 4: PYTHON MAPPER VALIDATION

### 4.1 –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ mapper

- [ ] **4.1.1** –ï—Å—Ç—å –∫–ª–∞—Å—Å `AutoumnaMapper` –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è `map_autumna_to_db()`
- [ ] **4.1.2** –ï—Å—Ç—å docstrings –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- [ ] **4.1.3** –ï—Å—Ç—å type hints (Python 3.7+)
- [ ] **4.1.4** –ï—Å—Ç—å error handling (try/except)
- [ ] **4.1.5** –ï—Å—Ç—å logging

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 4.1:** ___/5

---

### 4.2 –ú–∞–ø–ø–∏–Ω–≥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π

- [ ] **4.2.1** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `cqc_location_id` –º–∞–ø–∏—Ç—Å—è –∏–∑ `identity.cqc_location_id`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞: –ï—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí RAISE EXCEPTION –∏–ª–∏ return None
  
- [ ] **4.2.2** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `name` –º–∞–ø–∏—Ç—Å—è –∏–∑ `identity.name`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞: –ï—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí RAISE EXCEPTION
  
- [ ] **4.2.3** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `city` –º–∞–ø–∏—Ç—Å—è –∏–∑ `location.city`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞: –ï—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí RAISE EXCEPTION
  
- [ ] **4.2.4** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `postcode` –º–∞–ø–∏—Ç—Å—è –∏–∑ `location.postcode`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞: –ï—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí RAISE EXCEPTION

**–¢–µ—Å—Ç:**
```python
# –ü—É—Å—Ç—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É
result = map_autumna_to_db({"identity": {"name": None}})
assert result is None or raises Exception
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 4.2:** ___/4

---

### 4.3 –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

- [ ] **4.3.1** `latitude` –º–∞–ø–∏—Ç—Å—è –∏–∑ `location.latitude`
- [ ] **4.3.2** `longitude` –º–∞–ø–∏—Ç—Å—è –∏–∑ `location.longitude`
- [ ] **4.3.3** –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ NUMERIC (–Ω–µ string!)
- [ ] **4.3.4** –û–±—Ä–∞–±–æ—Ç–∫–∞ NULL –∑–Ω–∞—á–µ–Ω–∏–π

**–í–∞–∂–Ω–æ:** SQL —Ñ—É–Ω–∫—Ü–∏–∏ `safe_latitude()` –∏ `safe_longitude()` –æ–±—Ä–∞–±–æ—Ç–∞—é—Ç –∑–∞–ø—è—Ç—É—é.

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 4.3:** ___/4

---

### 4.4 –ú–∞–ø–ø–∏–Ω–≥ user_categories

- [ ] **4.4.1** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `serves_older_people` –º–∞–ø–∏—Ç—Å—è –∏–∑ `user_categories.serves_older_people`
  - ‚ùå **–û–®–ò–ë–ö–ê –ï–°–õ–ò:** –º–∞–ø–∏—Ç—Å—è –∏–∑ `serves_elderly`!
  
- [ ] **4.4.2** `serves_younger_adults` –º–∞–ø–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] **4.4.3** `serves_mental_health` –º–∞–ø–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] **4.4.4** `serves_physical_disabilities` –º–∞–ø–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] **4.4.5** `serves_sensory_impairments` –º–∞–ø–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–¢–µ—Å—Ç:**
```python
data = {"user_categories": {"serves_older_people": True}}
result = map_autumna_to_db(data)
assert result['serves_older_people'] == True
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 4.4:** ___/5

---

### 4.5 –ú–∞–ø–ø–∏–Ω–≥ licenses (–ö–†–ò–¢–ò–ß–ù–û!) ‚ö†Ô∏è v2.4 –û–ë–ù–û–í–õ–ï–ù–û

- [ ] **4.5.1** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `has_nursing_care_license` –º–∞–ø–∏—Ç—Å—è –∏–∑ `licenses.nursing_care` (–¥–ª—è Autumna)
  - ‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û –¥–ª—è Autumna:** –º–∞–ø–∏—Ç—Å—è –∏–∑ `licenses.nursing_care` (–ø–∞—Ä—Å–∏—Ç—Å—è –∏–∑ HTML)
  - ‚ùå **–û–®–ò–ë–ö–ê –ï–°–õ–ò:** –º–∞–ø–∏—Ç—Å—è –∏–∑ `care_services.nursing_care`!
  - ‚ö†Ô∏è **–í–ê–ñ–ù–û:** –î–ª—è CQC –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `service_type_care_home_service_with_nursing` (–ù–ï `regulated_activity_nursing_care`). –≠—Ç–æ —Ä–∞–∑–ª–∏—á–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è CQC –º–∞–ø–ø–∏–Ω–≥–∞, –Ω–µ –¥–ª—è Autumna.
  
- [ ] **4.5.2** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `has_personal_care_license` –º–∞–ø–∏—Ç—Å—è –∏–∑ `licenses.personal_care`
  - ‚ùå **–û–®–ò–ë–ö–ê –ï–°–õ–ò:** –º–∞–ø–∏—Ç—Å—è –∏–∑ `care_services.*`!
  
- [ ] **4.5.3** `has_surgical_procedures_license` –º–∞–ø–∏—Ç—Å—è –∏–∑ `licenses.surgical_procedures`
- [ ] **4.5.4** `has_treatment_license` –º–∞–ø–∏—Ç—Å—è –∏–∑ `licenses.treatment_of_disease`
- [ ] **4.5.5** `has_diagnostic_license` –º–∞–ø–∏—Ç—Å—è –∏–∑ `licenses.diagnostic_procedures`

**–¢–µ—Å—Ç:**
```python
data = {
    "licenses": {"nursing_care": True},
    "care_services": {"nursing_care": False}
}
result = map_autumna_to_db(data)
assert result['has_nursing_care_license'] == True  # –ò–∑ licenses!
assert result['care_nursing'] == False             # –ò–∑ care_services!
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 4.5:** ___/5

---

### 4.6 –ú–∞–ø–ø–∏–Ω–≥ care_services

- [ ] **4.6.1** `care_residential` –º–∞–ø–∏—Ç—Å—è –∏–∑ `care_services.residential_care`
- [ ] **4.6.2** `care_nursing` –º–∞–ø–∏—Ç—Å—è –∏–∑ `care_services.nursing_care`
- [ ] **4.6.3** `care_dementia` –º–∞–ø–∏—Ç—Å—è –∏–∑ `care_services.dementia_care`
- [ ] **4.6.4** `care_respite` –º–∞–ø–∏—Ç—Å—è –∏–∑ `care_services.respite_care`

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 4.6:** ___/4

---

### 4.7 –ú–∞–ø–ø–∏–Ω–≥ building_and_facilities

- [ ] **4.7.1** `wheelchair_access` –º–∞–ø–∏—Ç—Å—è –∏–∑ `building_and_facilities.wheelchair_access`
- [ ] **4.7.2** `ensuite_rooms` –º–∞–ø–∏—Ç—Å—è –∏–∑ `building_and_facilities.ensuite_rooms` (boolean)
  - –ò–ª–∏ –¥–µ—Ä–∏–≤–∏—Ä—É–µ—Ç—Å—è –∏–∑ `number_of_ensuite_rooms > 0`
- [ ] **4.7.3** `secure_garden` –º–∞–ø–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] **4.7.4** `wifi_available` –º–∞–ø–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] **4.7.5** `parking_onsite` –º–∞–ø–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 4.7:** ___/5

---

### 4.8 –ú–∞–ø–ø–∏–Ω–≥ JSONB –ø–æ–ª–µ–π

- [ ] **4.8.1** `source_urls` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (autumna_url, cqc_profile_url)
- [ ] **4.8.2** `service_types` –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç—Å—è –∏–∑ care_services
- [ ] **4.8.3** `medical_specialisms` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ JSON
- [ ] **4.8.4** `dietary_options` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- [ ] **4.8.5** `activities` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- [ ] **4.8.6** `pricing_details` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- [ ] **4.8.7** `staff_information` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- [ ] **4.8.8** `reviews_detailed` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- [ ] **4.8.9** `media` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- [ ] **4.8.10** `location_context` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- [ ] **4.8.11** `building_info` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –∏–∑ building_details
- [ ] **4.8.12** `accreditations` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- [ ] **4.8.13** `source_metadata` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- [ ] **4.8.14** `extra` —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 4.8:** ___/14

---

### 4.9 Computed fields ‚ö†Ô∏è v2.4 –û–ë–ù–û–í–õ–ï–ù–û

- [ ] **4.9.1** `name_normalized` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∏–∑ `name` (LOWER(TRIM()))
- [ ] **4.9.2** `data_quality_score` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è (0-100)
- [ ] **4.9.3** `created_at` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ CURRENT_TIMESTAMP
- [ ] **4.9.4** `updated_at` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ CURRENT_TIMESTAMP
- [ ] **4.9.5** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** `year_opened` –æ—Å—Ç–∞—ë—Ç—Å—è NULL –µ—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö? üÜï v2.4
  - ‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ù–ï –º–∞–ø–ø–∏—Ç—å –∏–∑ `location_hsca_start_date` (—ç—Ç–æ –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ CQC, –Ω–µ –≥–æ–¥ –æ—Ç–∫—Ä—ã—Ç–∏—è)
  - –î–ª—è Autumna: –º–æ–∂–Ω–æ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∏–∑–≤–ª–µ—á—å –∏–∑ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –Ω–æ –µ—Å–ª–∏ –Ω–µ—Ç - –æ—Å—Ç–∞–≤–∏—Ç—å NULL
- [ ] **4.9.6** `provider_telephone_number` –∏ `provider_hsca_start_date` –ù–ï –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ Autumna üÜï v2.4
  - ‚ö†Ô∏è **–í–ê–ñ–ù–û:** –≠—Ç–∏ –ø–æ–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤ CQC API, –Ω–µ –ø–∞—Ä—Å—è—Ç—Å—è –∏–∑ Autumna HTML
  - –ü—Ä–∏ –º–∞–ø–ø–∏–Ω–≥–µ Autumna ‚Üí DB —ç—Ç–∏ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è NULL

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 4.9:** ___/6 üÜï v2.4 (–±—ã–ª–æ 4)

---

### 4.10 Error handling

- [ ] **4.10.1** –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π
- [ ] **4.10.2** –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- [ ] **4.10.3** –û–±—Ä–∞–±–æ—Ç–∫–∞ NULL –∑–Ω–∞—á–µ–Ω–∏–π
- [ ] **4.10.4** Logging –æ—à–∏–±–æ–∫
- [ ] **4.10.5** –í–æ–∑–≤—Ä–∞—Ç None –∏–ª–∏ exception –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 4.10:** ___/5

---

## –†–ê–ó–î–ï–õ 5: SQL FUNCTIONS VALIDATION

### 5.1 –§—É–Ω–∫—Ü–∏—è clean_text()

- [ ] **5.1.1** –§—É–Ω–∫—Ü–∏—è `clean_text()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **5.1.2** –£–¥–∞–ª—è–µ—Ç –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã (TRIM)
- [ ] **5.1.3** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç NULL –∑–Ω–∞—á–µ–Ω–∏—è
- [ ] **5.1.4** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç NULL –¥–ª—è –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫
- [ ] **5.1.5** –ü–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ IMMUTABLE

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 5.1:** ___/5

---

### 5.2 –§—É–Ω–∫—Ü–∏—è safe_integer()

- [ ] **5.2.1** –§—É–Ω–∫—Ü–∏—è `safe_integer()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **5.2.2** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç NULL –∑–Ω–∞—á–µ–Ω–∏—è
- [ ] **5.2.3** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
- [ ] **5.2.4** –£–¥–∞–ª—è–µ—Ç –∑–∞–ø—è—Ç—ã–µ (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —Ç—ã—Å—è—á)
- [ ] **5.2.5** –ò–º–µ–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (EXCEPTION WHEN OTHERS)
- [ ] **5.2.6** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç default_value –ø—Ä–∏ –æ—à–∏–±–∫–µ
- [ ] **5.2.7** –ü–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ IMMUTABLE

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 5.2:** ___/7

---

### 5.3 –§—É–Ω–∫—Ü–∏—è safe_latitude() (–ö–†–ò–¢–ò–ß–ù–ê!)

- [ ] **5.3.1** –§—É–Ω–∫—Ü–∏—è `safe_latitude()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–ù–ï safe_numeric!)
- [ ] **5.3.2** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç NULL –∑–Ω–∞—á–µ–Ω–∏—è
- [ ] **5.3.3** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—è—Ç—É—é –∫–∞–∫ –¥–µ—Å—è—Ç–∏—á–Ω—ã–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
- [ ] **5.3.4** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –û–¢–†–ò–¶–ê–¢–ï–õ–¨–ù–´–ï —á–∏—Å–ª–∞ —Å –∑–∞–ø—è—Ç–æ–π
  - –ü—Ä–∏–º–µ—Ä: `-1,88634` ‚Üí `-1.88634` (–ù–ï `-0.188634`!)
- [ ] **5.3.5** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω UK: 49.0 - 61.0
- [ ] **5.3.6** –í—ã–¥–∞–µ—Ç WARNING –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∑–∞ –¥–∏–∞–ø–∞–∑–æ–Ω
- [ ] **5.3.7** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ –º–∞–ª—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (< 1.0 –¥–ª—è UK)
- [ ] **5.3.8** –ò–º–µ–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (EXCEPTION WHEN OTHERS)
- [ ] **5.3.9** –ü–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ IMMUTABLE

**–¢–µ—Å—Ç:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–∏ `-1,88634`:
```sql
SELECT safe_latitude('-1,88634');
-- –û–∂–∏–¥–∞–µ—Ç—Å—è: NULL (–≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ UK 49-61) –∏–ª–∏ WARNING
-- –ù–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨: -0.188634
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 5.3:** ___/9

---

### 5.4 –§—É–Ω–∫—Ü–∏—è safe_longitude() (–ö–†–ò–¢–ò–ß–ù–ê!)

- [ ] **5.4.1** –§—É–Ω–∫—Ü–∏—è `safe_longitude()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–ù–ï safe_numeric!)
- [ ] **5.4.2** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç NULL –∑–Ω–∞—á–µ–Ω–∏—è
- [ ] **5.4.3** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—è—Ç—É—é –∫–∞–∫ –¥–µ—Å—è—Ç–∏—á–Ω—ã–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
- [ ] **5.4.4** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –û–¢–†–ò–¶–ê–¢–ï–õ–¨–ù–´–ï —á–∏—Å–ª–∞ —Å –∑–∞–ø—è—Ç–æ–π
  - –ü—Ä–∏–º–µ—Ä: `-1,989241` ‚Üí `-1.989241` (–ù–ï `-0.989241`!)
- [ ] **5.4.5** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω UK: -8.0 - 2.0
- [ ] **5.4.6** –í—ã–¥–∞–µ—Ç WARNING –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∑–∞ –¥–∏–∞–ø–∞–∑–æ–Ω
- [ ] **5.4.7** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ –º–∞–ª—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (> -1.0 AND < 1.0)
- [ ] **5.4.8** –ò–º–µ–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (EXCEPTION WHEN OTHERS)
- [ ] **5.4.9** –ü–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ IMMUTABLE

**–¢–µ—Å—Ç:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–∏ `-1,989241`:
```sql
SELECT safe_longitude('-1,989241');
-- –û–∂–∏–¥–∞–µ—Ç—Å—è: -1.989241
-- –ù–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨: -0.989241
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 5.4:** ___/9

---

### 5.5 –§—É–Ω–∫—Ü–∏—è safe_numeric()

- [ ] **5.5.1** –§—É–Ω–∫—Ü–∏—è `safe_numeric()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **5.5.2** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç NULL –∑–Ω–∞—á–µ–Ω–∏—è
- [ ] **5.5.3** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—è—Ç—É—é –∫–∞–∫ –¥–µ—Å—è—Ç–∏—á–Ω—ã–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
- [ ] **5.5.4** –£–¥–∞–ª—è–µ—Ç —Å–∏–º–≤–æ–ª—ã –≤–∞–ª—é—Ç (¬£, $)
- [ ] **5.5.5** –ò–º–µ–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- [ ] **5.5.6** –ü–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ IMMUTABLE

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 5.5:** ___/6

---

### 5.6 –§—É–Ω–∫—Ü–∏—è safe_boolean()

- [ ] **5.6.1** –§—É–Ω–∫—Ü–∏—è `safe_boolean()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **5.6.2** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç NULL –∑–Ω–∞—á–µ–Ω–∏—è
- [ ] **5.6.3** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 'Y' ‚Üí TRUE, 'N' ‚Üí FALSE
- [ ] **5.6.4** ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û:** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 'TRUE' ‚Üí TRUE, 'FALSE' ‚Üí FALSE
- [ ] **5.6.5** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 't', 'f', '1', '0', 'yes', 'no'
- [ ] **5.6.6** –†–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è (UPPER)
- [ ] **5.6.7** –ò–º–µ–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- [ ] **5.6.8** –ü–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ IMMUTABLE

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 5.6:** ___/8

---

### 5.7 –§—É–Ω–∫—Ü–∏—è safe_date()

- [ ] **5.7.1** –§—É–Ω–∫—Ü–∏—è `safe_date()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **5.7.2** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç NULL –∑–Ω–∞—á–µ–Ω–∏—è
- [ ] **5.7.3** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç ISO 8601 (YYYY-MM-DD)
- [ ] **5.7.4** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç UK (DD/MM/YYYY)
- [ ] **5.7.5** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç US (MM/DD/YYYY)
- [ ] **5.7.6** –ò–º–µ–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- [ ] **5.7.7** –ü–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ IMMUTABLE

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 5.7:** ___/7

---

### 5.8 –§—É–Ω–∫—Ü–∏—è normalize_cqc_rating()

- [ ] **5.8.1** –§—É–Ω–∫—Ü–∏—è `normalize_cqc_rating()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **5.8.2** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç NULL –∑–Ω–∞—á–µ–Ω–∏—è
- [ ] **5.8.3** –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
- [ ] **5.8.4** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
  - 'outstanding', 'good', 'requires improvement', 'inadequate', 'not rated'
- [ ] **5.8.5** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç NULL –¥–ª—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- [ ] **5.8.6** –ü–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ IMMUTABLE

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 5.8:** ___/6

---

## –†–ê–ó–î–ï–õ 6: PYTHON VALIDATOR

### 6.1 –ö–ª–∞—Å—Å AutoumnaValidator

- [ ] **6.1.1** –ö–ª–∞—Å—Å `AutoumnaValidator` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **6.1.2** –ú–µ—Ç–æ–¥ `validate()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] **6.1.3** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç dict —Å –∫–ª—é—á–∞–º–∏: valid, errors, warnings, quality_score
- [ ] **6.1.4** –ò–º–µ–µ—Ç docstrings
- [ ] **6.1.5** –ò–º–µ–µ—Ç type hints

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 6.1:** ___/5

---

### 6.2 –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

- [ ] **6.2.1** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `name`
- [ ] **6.2.2** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `cqc_location_id`
- [ ] **6.2.3** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `city`
- [ ] **6.2.4** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `postcode`
- [ ] **6.2.5** –ï—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ errors –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç valid=False

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 6.2:** ___/5

---

### 6.3 –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤

- [ ] **6.3.1** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç `cqc_location_id` (regex `^1-\d{10}$`)
- [ ] **6.3.2** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç `postcode` (UK postcode regex)
- [ ] **6.3.3** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç `email` (email regex)
- [ ] **6.3.4** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç `telephone` (UK phone)

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 6.3:** ___/4

---

### 6.4 –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤

- [ ] **6.4.1** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç `latitude` (49.0 - 61.0)
- [ ] **6.4.2** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç `longitude` (-8.0 - 2.0)
- [ ] **6.4.3** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç `beds_total` (1 - 500)
- [ ] **6.4.4** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç `beds_available` (<= beds_total)
- [ ] **6.4.5** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç pricing (0 - 5000)
- [ ] **6.4.6** –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç years (1900 - 2100)

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 6.4:** ___/6

---

### 6.5 –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚ö†Ô∏è v2.4 –û–ë–ù–û–í–õ–ï–ù–û

- [ ] **6.5.1** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `fee_from <= fee_to`
- [ ] **6.5.2** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `beds_available <= beds_total`
- [ ] **6.5.3** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `year_registered >= year_opened` (–µ—Å–ª–∏ –æ–±–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã)
  - ‚ö†Ô∏è **–í–ê–ñ–ù–û:** `year_opened` —á–∞—Å—Ç–æ NULL (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö), –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ª–∂–Ω–∞ —É—á–∏—Ç—ã–≤–∞—Ç—å —ç—Ç–æ
- [ ] **6.5.4** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `has_nursing_care_license = TRUE ‚Üí care_nursing –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å TRUE`
- [ ] **6.5.5** ‚úÖ **–ù–û–í–û–ï:** `provider_telephone_number` –∏ `provider_hsca_start_date` –º–æ–≥—É—Ç –±—ã—Ç—å NULL –¥–ª—è Autumna üÜï v2.4
  - –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ: —ç—Ç–∏ –ø–æ–ª—è –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ CQC API

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 6.5:** ___/5 üÜï v2.4 (–±—ã–ª–æ 4)

---

### 6.6 Quality score –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ

- [ ] **6.6.1** Quality score –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è (0-100)
- [ ] **6.6.2** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç: -30 –∑–∞ –∫–∞–∂–¥–æ–µ
- [ ] **6.6.3** –û—à–∏–±–∫–∏: -5 –∑–∞ –∫–∞–∂–¥—É—é
- [ ] **6.6.4** Warnings: -1 –∑–∞ –∫–∞–∂–¥—ã–π
- [ ] **6.6.5** –ë–æ–Ω—É—Å—ã –∑–∞ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: +5 –∑–∞ pricing, +5 –∑–∞ CQC rating

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 6.6:** ___/5

---

## –†–ê–ó–î–ï–õ 7: INTEGRATION TESTING

### 7.1 End-to-end —Ç–µ—Å—Ç (1 –∑–∞–ø–∏—Å—å)

- [ ] **7.1.1** –ï—Å—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π HTML —Ñ–∞–π–ª –æ—Ç Autumna
- [ ] **7.1.2** LLM –ø–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç (HTML ‚Üí JSON)
- [ ] **7.1.3** Python –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (valid=True, quality_score >= 60)
- [ ] **7.1.4** Mapper —Ä–∞–±–æ—Ç–∞–µ—Ç (JSON ‚Üí DB dict)
- [ ] **7.1.5** SQL –≤—Å—Ç–∞–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (INSERT —É—Å–ø–µ—à–µ–Ω)
- [ ] **7.1.6** –î–∞–Ω–Ω—ã–µ –≤ –ë–î –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (–ø—Ä–æ–≤–µ—Ä–∫–∞ SELECT)

**–¢–µ—Å—Ç:**
```python
# 1. Parse HTML
extracted_data = parse_with_llm(html_content)

# 2. Validate
validator = AutoumnaValidator()
result = validator.validate(extracted_data)
assert result['valid'] == True
assert result['quality_score'] >= 60

# 3. Map
db_record = map_autumna_to_db(extracted_data)
assert db_record['cqc_location_id'] is not None
assert db_record['name'] is not None

# 4. Insert
upsert_care_home(db_record)

# 5. Verify
row = db.execute("SELECT * FROM care_homes WHERE cqc_location_id = ?", [cqc_location_id])
assert row is not None
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 7.1:** ___/6

---

### 7.2 –¢–µ—Å—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π (nullable vs required)

- [ ] **7.2.1** –¢–µ—Å—Ç: LLM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç NULL –¥–ª—è `cqc_location_id` ‚Üí JSON Schema –æ—Ç–∫–ª–æ–Ω—è–µ—Ç
- [ ] **7.2.2** –¢–µ—Å—Ç: LLM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç NULL –¥–ª—è `city` ‚Üí JSON Schema –æ—Ç–∫–ª–æ–Ω—è–µ—Ç
- [ ] **7.2.3** –¢–µ—Å—Ç: LLM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç NULL –¥–ª—è `postcode` ‚Üí JSON Schema –æ—Ç–∫–ª–æ–Ω—è–µ—Ç
- [ ] **7.2.4** –¢–µ—Å—Ç: Mapper –ø–æ–ª—É—á–∞–µ—Ç NULL –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª—è ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None –∏–ª–∏ raises Exception

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 7.2:** ___/4

---

### 7.3 –¢–µ—Å—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Å –∑–∞–ø—è—Ç–æ–π

- [ ] **7.3.1** –¢–µ—Å—Ç: `-1,88634` ‚Üí SQL —Ñ—É–Ω–∫—Ü–∏—è ‚Üí `-1.88634` (–ù–ï `-0.188634`)
- [ ] **7.3.2** –¢–µ—Å—Ç: `51,5074` ‚Üí `51.5074`
- [ ] **7.3.3** –¢–µ—Å—Ç: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–Ω–µ UK ‚Üí NULL –∏–ª–∏ WARNING

**–¢–µ—Å—Ç SQL:**
```sql
SELECT 
    safe_latitude('-1,88634') as lat,
    safe_longitude('-1,989241') as lon;
    
-- –û–∂–∏–¥–∞–µ—Ç—Å—è:
-- lat: NULL (–≤–Ω–µ UK –¥–∏–∞–ø–∞–∑–æ–Ω–∞) –∏–ª–∏ WARNING
-- lon: -1.989241
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 7.3:** ___/3

---

### 7.4 –¢–µ—Å—Ç licenses vs care_services

- [ ] **7.4.1** –¢–µ—Å—Ç: `licenses.nursing_care = true` ‚Üí `has_nursing_care_license = TRUE`
- [ ] **7.4.2** –¢–µ—Å—Ç: `care_services.nursing_care = true` ‚Üí `care_nursing = TRUE`
- [ ] **7.4.3** –¢–µ—Å—Ç: –†–∞–∑–ª–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ licenses –∏ care_services –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–¢–µ—Å—Ç:**
```python
data = {
    "licenses": {"nursing_care": True},
    "care_services": {"nursing_care": False}
}
result = map_autumna_to_db(data)
assert result['has_nursing_care_license'] == True  # –ò–∑ licenses
assert result['care_nursing'] == False             # –ò–∑ care_services
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 7.4:** ___/3

---

### 7.5 –¢–µ—Å—Ç user_categories

- [ ] **7.5.1** –¢–µ—Å—Ç: `serves_older_people` –º–∞–ø–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–ù–ï `serves_elderly`)
- [ ] **7.5.2** –¢–µ—Å—Ç: –í—Å–µ 5 –ø–æ–ª–µ–π user_categories –º–∞–ø—è—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 7.5:** ___/2

---

### 7.6 Batch —Ç–µ—Å—Ç (100 –∑–∞–ø–∏—Å–µ–π)

- [ ] **7.6.1** –¢–µ—Å—Ç –Ω–∞ 100 —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö Autumna –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] **7.6.2** Success rate >= 95% (95+ –∑–∞–ø–∏—Å–µ–π —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã)
- [ ] **7.6.3** Average quality_score >= 70
- [ ] **7.6.4** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç (constraint violations)
- [ ] **7.6.5** –î—É–±–ª–∏–∫–∞—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç (–ø–æ cqc_location_id)

**–ú–µ—Ç—Ä–∏–∫–∏:**
- –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: ___
- –£—Å–ø–µ—à–Ω—ã—Ö: ___ (%)
- –û—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö: ___ (%)
- Average quality_score: ___
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫: ___

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 7.6:** ___/5

---

## –†–ê–ó–î–ï–õ 8: DOCUMENTATION & DEPLOYMENT

### 8.1 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] **8.1.1** –ï—Å—Ç—å README —Å quick start guide
- [ ] **8.1.2** –ï—Å—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–¢–ó)
- [ ] **8.1.3** –ï—Å—Ç—å CHANGELOG
- [ ] **8.1.4** –ï—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] **8.1.5** –ï—Å—Ç—å troubleshooting guide

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 8.1:** ___/5

---

### 8.2 Deployment readiness

- [ ] **8.2.1** –ï—Å—Ç—å requirements.txt –∏–ª–∏ pyproject.toml
- [ ] **8.2.2** –ï—Å—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
- [ ] **8.2.3** –ï—Å—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- [ ] **8.2.4** –ï—Å—Ç—å environment variables setup (.env.example)
- [ ] **8.2.5** –ï—Å—Ç—å Docker support (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 8.2:** ___/5

---

### 8.3 Monitoring & Logging

- [ ] **8.3.1** –ï—Å—Ç—å logging –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö ETL
- [ ] **8.3.2** –ï—Å—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–≤—Ä–µ–º—è, —Å—Ç–æ–∏–º–æ—Å—Ç—å)
- [ ] **8.3.3** –ï—Å—Ç—å –∞–ª–µ—Ä—Ç—ã –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- [ ] **8.3.4** –ï—Å—Ç—å dashboard –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ quality_score

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ 8.3:** ___/4

---

## –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê

### –ü–æ–¥—Å—á–µ—Ç –±–∞–ª–ª–æ–≤

| –†–∞–∑–¥–µ–ª | –ú–∞–∫—Å–∏–º—É–º | –ü–æ–ª—É—á–µ–Ω–æ | % |
|:---|---:|---:|---:|
| 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è | 10 | ___ | ___% |
| 2. JSON Schema | 48 | ___ | ___% |
| 3. System Prompt | 35 | ___ | ___% |
| 4. Python Mapper | 55 | ___ | ___% |
| 5. SQL Functions | 57 | ___ | ___% |
| 6. Python Validator | 29 | ___ | ___% |
| 7. Integration Testing | 23 | ___ | ___% |
| 8. Documentation & Deployment | 14 | ___ | ___% |
| **–ò–¢–û–ì–û** | **271** | **___** | **___%** |

---

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

| –û—Ü–µ–Ω–∫–∞ | –ü—Ä–æ—Ü–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|:---|:---:|:---|:---|
| **A+ (–û—Ç–ª–∏—á–Ω–æ)** | >= 95% | ‚úÖ Production-ready | –ú–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å |
| **A (–û—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ)** | 90-94% | ‚úÖ –ü–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–µ–ª–∫–∏–µ –Ω–µ–¥–æ—á–µ—Ç—ã |
| **B (–•–æ—Ä–æ—à–æ)** | 80-89% | ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç—Å—è —É–ª—É—á—à–µ–Ω–∏—è | –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã |
| **C (–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ)** | 70-79% | ‚ö†Ô∏è –ú–Ω–æ–≥–æ –ø—Ä–æ–±–ª–µ–º | –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ |
| **D (–ù–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ)** | 60-69% | ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã | –°–µ—Ä—å–µ–∑–Ω–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ |
| **F (–ü—Ä–æ–≤–∞–ª)** | < 60% | ‚ùå –ù–µ –≥–æ—Ç–æ–≤–æ | –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ |

---

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (–±–ª–æ–∫–µ—Ä—ã –¥–ª—è production)

–ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –û–î–ù–ê –∏–∑ —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí **–ù–ï –î–ï–ü–õ–û–ò–¢–¨**:

- [ ] ‚ùå **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ #1:** `cqc_location_id`, `city` –∏–ª–∏ `postcode` nullable –≤ JSON Schema
- [ ] ‚ùå **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ #2:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ä–∞–∑–ª–∏—á–∏–µ `licenses` vs `care_services`
- [ ] ‚ùå **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ #3:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ `user_categories` (serves_elderly –≤–º–µ—Å—Ç–æ serves_older_people)
- [ ] ‚ùå **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ #4:** –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å –∑–∞–ø—è—Ç–æ–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] ‚ùå **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ #5:** Mapper –º–∞–ø–∏—Ç licenses –∏–∑ care_services (—é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞!)

**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º:** ___

**–ï—Å–ª–∏ >= 1 ‚Üí –°–¢–ê–¢–£–°: ‚ùå –ù–ï –ì–û–¢–û–í–û –ö PRODUCTION**

---

## –ù–ê–ô–î–ï–ù–ù–´–ï –û–®–ò–ë–ö–ò

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (üî¥)

1. _______________________________________________________________
2. _______________________________________________________________
3. _______________________________________________________________

### –°—Ä–µ–¥–Ω–∏–µ (üü°)

1. _______________________________________________________________
2. _______________________________________________________________
3. _______________________________________________________________

### –ú–µ–ª–∫–∏–µ (üü¢)

1. _______________________________________________________________
2. _______________________________________________________________
3. _______________________________________________________________

---

## –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï

**–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞:** ___% (**___** –∏–∑ 271)

**–°—Ç–∞—Ç—É—Å:** 
- [ ] ‚úÖ Production-ready (>= 95%)
- [ ] ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (80-94%)
- [ ] ‚ùå –ù–µ –≥–æ—Ç–æ–≤–æ –∫ production (< 80%)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–µ—Ä—ã:** ___ (–µ—Å–ª–∏ >= 1 ‚Üí –ù–ï –î–ï–ü–õ–û–ò–¢–¨)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** _______________

**–ü—Ä–æ–≤–µ—Ä–∏–ª:** _______________

---

**–ö–æ–Ω–µ—Ü —á–µ–∫–ª–∏—Å—Ç–∞**
